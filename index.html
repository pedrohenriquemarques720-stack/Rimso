<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIMSO Piracicaba - Lojas do Seu Bairro</title>
    
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        :root {
            --black: #000000;
            --red: #DD0000;
            --gold: #FFCE00;
            --gold-light: #FFE55C;
            --red-dark: #AA0000;
            --gray: #6B7280;
            --light: #F9FAFB;
            --success: #10b981;
            --border: #E5E7EB;
            --gradient: linear-gradient(145deg, var(--red), var(--gold));
            
            --bg-primary: #FFFFFF;
            --bg-secondary: #F9FAFB;
            --text-primary: #1A1A1A;
            --text-secondary: #4A4A4A;
            --card-bg: #FFFFFF;
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }

        body {
            background: linear-gradient(135deg, var(--black) 0%, var(--red-dark) 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Container Principal */
        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
        }

        /* Tela de Cadastros */
        .cadastro-screen {
            background: var(--bg-primary);
            border-radius: 40px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            border: 3px solid var(--gold);
            padding: 50px 40px;
        }

        .cadastro-logo {
            text-align: center;
            margin-bottom: 40px;
        }

        .cadastro-logo h1 {
            font-size: 48px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .cadastro-logo h1 span {
            color: var(--red);
        }

        .cadastro-logo p {
            color: var(--text-secondary);
            font-size: 16px;
        }

        /* Cards de Cadastro */
        .cadastro-cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }

        .cadastro-card {
            background: var(--card-bg);
            border-radius: 30px;
            padding: 40px 30px;
            border: 3px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .cadastro-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .cadastro-card.cliente:hover {
            border-color: var(--red);
        }

        .cadastro-card.lojista:hover {
            border-color: var(--gold);
        }

        .cadastro-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }

        .cadastro-icon.cliente {
            color: var(--red);
        }

        .cadastro-icon.lojista {
            color: var(--gold);
        }

        .cadastro-card h2 {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .cadastro-card p {
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .cadastro-btn {
            padding: 12px 30px;
            border-radius: 60px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
        }

        .cadastro-btn.cliente {
            background: var(--red);
            color: white;
        }

        .cadastro-btn.cliente:hover {
            background: var(--red-dark);
        }

        .cadastro-btn.lojista {
            background: var(--gold);
            color: var(--black);
        }

        .cadastro-btn.lojista:hover {
            background: var(--gold-light);
        }

        /* Link de Login */
        .login-link {
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            border-top: 2px solid var(--border);
        }

        .login-link p {
            color: var(--text-secondary);
            font-size: 16px;
        }

        .login-link a {
            color: var(--red);
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
        }

        .login-link a:hover {
            text-decoration: underline;
        }

        /* Modais */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--bg-primary);
            border-radius: 30px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            border: 3px solid var(--gold);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .modal-close {
            font-size: 28px;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .modal-close:hover {
            color: var(--red);
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            font-size: 14px;
            color: var(--text-primary);
        }

        .form-input,
        .form-select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 14px;
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .form-input:focus,
        .form-select:focus {
            border-color: var(--red);
            outline: none;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .btn {
            padding: 14px;
            border-radius: 60px;
            border: none;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
        }

        .btn-primary {
            background: var(--red);
            color: white;
        }

        .btn-primary:hover {
            background: var(--red-dark);
        }

        .btn-gold {
            background: var(--gold);
            color: var(--black);
        }

        .btn-gold:hover {
            background: var(--gold-light);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--border);
        }

        .btn-outline:hover {
            border-color: var(--red);
        }

        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--card-bg);
            color: var(--text-primary);
            padding: 12px 20px;
            border-radius: 40px;
            font-size: 13px;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: var(--transition);
            border: 2px solid var(--gold);
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.success {
            border-color: var(--success);
        }

        .toast.error {
            border-color: var(--red);
        }

        .hidden {
            display: none !important;
        }

        /* Admin Panel */
        .admin-panel {
            background: var(--bg-primary);
            border-radius: 40px;
            border: 3px solid var(--gold);
            padding: 30px;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }

        .admin-header h2 {
            font-size: 24px;
            color: var(--text-primary);
        }

        .admin-header h2 span {
            color: var(--red);
        }

        .admin-buttons {
            display: flex;
            gap: 15px;
        }

        .admin-btn {
            padding: 12px 24px;
            border-radius: 60px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .admin-btn.cliente {
            background: var(--red);
            color: white;
        }

        .admin-btn.cliente:hover {
            background: var(--red-dark);
            transform: scale(1.05);
        }

        .admin-btn.lojista {
            background: var(--gold);
            color: var(--black);
        }

        .admin-btn.lojista:hover {
            background: var(--gold-light);
            transform: scale(1.05);
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            border: 2px solid var(--border);
            text-align: center;
        }

        .stat-card .stat-value {
            font-size: 32px;
            font-weight: 800;
            color: var(--red);
            margin-bottom: 5px;
        }

        .stat-card .stat-label {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
        }

        .admin-table th {
            background: var(--light);
            padding: 12px;
            text-align: left;
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 14px;
        }

        .admin-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border);
        }

        .admin-table .badge {
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 12px;
            color: white;
        }

        .badge.admin { background: var(--red); }
        .badge.cliente { background: var(--gray); }
        .badge.lojista { background: var(--gold); color: var(--black); }

        /* Apps */
        .app-cliente, .app-lojista {
            max-width: 1600px;
            margin: 0 auto;
            background: var(--bg-primary);
            border-radius: 40px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 95vh;
            border: 3px solid var(--gold);
        }

        .sidebar-cliente, .sidebar-lojista {
            background: var(--black);
            color: white;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            border-right: 3px solid var(--gold);
            height: 95vh;
            overflow-y: auto;
        }

        .logo {
            font-size: 32px;
            font-weight: 800;
            color: white;
            margin-bottom: 20px;
            text-align: center;
        }

        .logo span {
            color: var(--red);
        }

        .user-info {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid var(--gold);
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            border-radius: 12px;
            color: #94a3b8;
            margin-bottom: 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--gold);
        }

        .menu-item.active {
            background: var(--red);
            color: white;
        }

        .main-content {
            background: var(--bg-primary);
            overflow-y: auto;
            max-height: 95vh;
        }

        .top-bar {
            padding: 15px 25px;
            background: var(--bg-primary);
            border-bottom: 3px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .content-area {
            padding: 25px;
        }

        .bairros-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 10px;
            margin-top: 20px;
            max-height: 600px;
            overflow-y: auto;
            padding: 10px;
            border: 2px solid var(--border);
            border-radius: 20px;
        }

        .bairros-grid::-webkit-scrollbar {
            width: 8px;
        }

        .bairros-grid::-webkit-scrollbar-track {
            background: var(--light);
            border-radius: 10px;
        }

        .bairros-grid::-webkit-scrollbar-thumb {
            background: var(--red);
            border-radius: 10px;
        }

        .bairro-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            border: 2px solid var(--border);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            transition: var(--transition);
        }

        .bairro-card:hover {
            border-color: var(--red);
            transform: translateX(5px);
            background: var(--gradient);
            color: var(--black);
        }

        .lojas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .loja-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            border: 2px solid var(--border);
            cursor: pointer;
            position: relative;
        }

        .loja-card:hover {
            border-color: var(--red);
        }

        .back-btn {
            background: var(--red);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 60px;
            cursor: pointer;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .back-btn:hover {
            background: var(--red-dark);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- TELA DE CADASTROS (INICIAL) -->
        <div id="cadastroScreen" class="cadastro-screen">
            <div class="cadastro-logo">
                <h1>RIM<span>SO</span></h1>
                <p>Piracicaba e Regi√£o</p>
            </div>

            <div class="cadastro-cards">
                <!-- Card Cliente -->
                <div class="cadastro-card cliente" onclick="abrirModal('modalCadastroCliente')">
                    <div class="cadastro-icon cliente">
                        <i class="fas fa-user"></i>
                    </div>
                    <h2>Sou Cliente</h2>
                    <p>Quero encontrar lojas no meu bairro</p>
                    <button class="cadastro-btn cliente">
                        Criar conta gratuita
                    </button>
                </div>

                <!-- Card Lojista -->
                <div class="cadastro-card lojista" onclick="abrirModal('modalCadastroLojista')">
                    <div class="cadastro-icon lojista">
                        <i class="fas fa-store"></i>
                    </div>
                    <h2>Sou Lojista</h2>
                    <p>Quero anunciar minha loja</p>
                    <button class="cadastro-btn lojista">
                        Anunciar minha loja
                    </button>
                </div>
            </div>

            <!-- Link para Login -->
            <div class="login-link">
                <p>J√° tem uma conta? <a onclick="abrirModal('modalLogin')">Fa√ßa login</a></p>
            </div>
        </div>

        <!-- MODAL DE LOGIN -->
        <div class="modal" id="modalLogin">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title">Fazer Login</div>
                    <div class="modal-close" onclick="fecharModal('modalLogin')">√ó</div>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-input" id="loginEmail" placeholder="seu@email.com">
                    </div>
                    <div class="form-group">
                        <label>Senha</label>
                        <input type="password" class="form-input" id="loginSenha">
                    </div>
                    <button class="btn btn-primary" onclick="fazerLogin()">Entrar</button>
                    
                    <div style="text-align: center; margin: 15px 0;">
                        <small style="color: var(--text-secondary);">Use a conta admin para teste</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- MODAL CADASTRO CLIENTE -->
        <div class="modal" id="modalCadastroCliente">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title">Cadastro Cliente</div>
                    <div class="modal-close" onclick="fecharModal('modalCadastroCliente')">√ó</div>
                </div>
                <div class="modal-body">
                    <form id="formCliente" onsubmit="cadastrarCliente(event)">
                        <div class="form-group">
                            <label>Nome completo</label>
                            <input type="text" class="form-input" id="clienteNome" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" class="form-input" id="clienteEmail" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Telefone</label>
                                <input type="tel" class="form-input" id="clienteTelefone">
                            </div>
                            <div class="form-group">
                                <label>Data nasc.</label>
                                <input type="date" class="form-input" id="clienteData">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Bairro</label>
                            <select class="form-select" id="clienteBairro">
                                <option value="">Selecione</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Senha</label>
                            <input type="password" class="form-input" id="clienteSenha" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Cadastrar gr√°tis</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- MODAL CADASTRO LOJISTA -->
        <div class="modal" id="modalCadastroLojista">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title">Cadastro Lojista</div>
                    <div class="modal-close" onclick="fecharModal('modalCadastroLojista')">√ó</div>
                </div>
                <div class="modal-body">
                    <form id="formLojista" onsubmit="cadastrarLojista(event)">
                        <div class="form-group">
                            <label>Nome da loja</label>
                            <input type="text" class="form-input" id="lojaNome" required>
                        </div>
                        <div class="form-group">
                            <label>Propriet√°rio</label>
                            <input type="text" class="form-input" id="proprietarioNome" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" class="form-input" id="lojaEmail" required>
                            </div>
                            <div class="form-group">
                                <label>Telefone</label>
                                <input type="tel" class="form-input" id="lojaTelefone" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Endere√ßo</label>
                            <input type="text" class="form-input" id="lojaEndereco" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Bairro</label>
                                <select class="form-select" id="lojaBairro">
                                    <option value="">Selecione</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Categoria</label>
                                <select class="form-select" id="lojaCategoria">
                                    <option value="roupas">Roupas</option>
                                    <option value="calcados">Cal√ßados</option>
                                    <option value="acessorios">Acess√≥rios</option>
                                    <option value="moda-feminina">Moda Feminina</option>
                                    <option value="moda-masculina">Moda Masculina</option>
                                    <option value="infantil">Infantil</option>
                                    <option value="plus-size">Plus Size</option>
                                    <option value="streetwear">Streetwear</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Plano</label>
                            <select class="form-select" id="lojaPlano">
                                <option value="basico">B√°sico - R$49/m√™s</option>
                                <option value="profissional">Profissional - R$89/m√™s</option>
                                <option value="premium">Premium - R$149/m√™s</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>CNPJ (opcional)</label>
                            <input type="text" class="form-input" id="lojaCnpj">
                        </div>
                        <div class="form-group">
                            <label>Senha</label>
                            <input type="password" class="form-input" id="lojaSenha" required>
                        </div>
                        <button type="submit" class="btn btn-gold">Solicitar cadastro</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- PAINEL ADMIN -->
        <div id="adminPanel" class="admin-panel hidden">
            <div class="admin-header">
                <h2>Painel <span>Administrativo</span></h2>
                <div class="admin-buttons">
                    <button class="admin-btn cliente" onclick="abrirModoCliente()">
                        <i class="fas fa-user"></i> Modo Cliente
                    </button>
                    <button class="admin-btn lojista" onclick="abrirModoLojista()">
                        <i class="fas fa-store"></i> Modo Lojista
                    </button>
                    <button class="admin-btn" style="background: var(--black); color: white;" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>

            <div class="admin-stats">
                <div class="stat-card">
                    <div class="stat-value" id="totalUsuarios">0</div>
                    <div class="stat-label">Total de Usu√°rios</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalLojas">0</div>
                    <div class="stat-label">Lojas Cadastradas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalBairros">0</div>
                    <div class="stat-label">Bairros</div>
                </div>
            </div>

            <h3 style="margin-bottom: 15px;">Usu√°rios Cadastrados</h3>
            <table class="admin-table">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Email</th>
                        <th>Tipo</th>
                    </tr>
                </thead>
                <tbody id="tabelaUsuarios">
                    <!-- Preenchido via JS -->
                </tbody>
            </table>
        </div>

        <!-- APP CLIENTE -->
        <div id="appCliente" class="app-cliente hidden">
            <div class="sidebar-cliente">
                <div class="logo">RIM<span>SO</span></div>
                <div class="user-info" id="clienteUserInfo">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--red); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: var(--gray);">Modo Cliente</div>
                            <div style="font-weight: 600;" id="clienteNomeDisplay">Admin</div>
                        </div>
                    </div>
                </div>

                <div class="menu-item active" onclick="mostrarSecaoCliente('inicio')">
                    <i class="fas fa-home"></i> In√≠cio
                </div>
                <div class="menu-item" onclick="mostrarSecaoCliente('bairros')">
                    <i class="fas fa-map"></i> Bairros
                </div>
                <div class="menu-item" onclick="mostrarSecaoCliente('lojas')">
                    <i class="fas fa-store"></i> Lojas
                </div>
                <div class="menu-item" onclick="mostrarSecaoCliente('favoritos')">
                    <i class="fas fa-heart"></i> Favoritos
                </div>
                <div class="menu-item" onclick="voltarAdmin()">
                    <i class="fas fa-arrow-left"></i> Voltar ao Admin
                </div>
            </div>

            <div class="main-content">
                <div class="top-bar">
                    <div class="page-title">RIMSO Cliente</div>
                </div>
                <div class="content-area" id="clienteContent">
                    <div style="text-align: center; padding: 40px; background: var(--gradient); border-radius: 30px;">
                        <h1 style="font-size: 28px;">Bem-vindo ao RIMSO! üëã</h1>
                        <p>Explore as lojas nos bairros de Piracicaba e regi√£o</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- APP LOJISTA -->
        <div id="appLojista" class="app-lojista hidden">
            <div class="sidebar-lojista">
                <div class="logo">RIM<span>SO</span></div>
                <div class="user-info" id="lojistaUserInfo">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--gold); display: flex; align-items: center; justify-content: center; color: var(--black);">
                            <i class="fas fa-store"></i>
                        </div>
                        <div>
                            <div style="font-size: 12px; color: var(--gray);">Modo Lojista</div>
                            <div style="font-weight: 600;" id="lojaNomeDisplay">Admin</div>
                        </div>
                    </div>
                </div>

                <div class="menu-item active" onclick="mostrarSecaoLojista('dashboard')">
                    <i class="fas fa-chart-pie"></i> Dashboard
                </div>
                <div class="menu-item" onclick="mostrarSecaoLojista('vendas')">
                    <i class="fas fa-shopping-cart"></i> Vendas
                </div>
                <div class="menu-item" onclick="mostrarSecaoLojista('produtos')">
                    <i class="fas fa-tshirt"></i> Produtos
                </div>
                <div class="menu-item" onclick="mostrarSecaoLojista('promocoes')">
                    <i class="fas fa-bolt"></i> Promo√ß√µes
                </div>
                <div class="menu-item" onclick="voltarAdmin()">
                    <i class="fas fa-arrow-left"></i> Voltar ao Admin
                </div>
            </div>

            <div class="main-content">
                <div class="top-bar">
                    <div class="page-title">Painel do Lojista</div>
                </div>
                <div class="content-area" id="lojistaContent">
                    <div style="text-align: center; padding: 40px;">
                        <h2>Bem-vindo ao Painel do Lojista</h2>
                        <p>Gerencie sua loja, vendas e promo√ß√µes</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- TOAST -->
        <div class="toast" id="toast"></div>
    </div>

    <script>
        // ==================== LISTA COMPLETA DE BAIRROS DE PIRACICABA E REGI√ÉO ====================
        const bairrosPiracicaba = [
            // Bairros centrais
            'Centro', 'Alto', 'Cidade Alta', 'Cidade Jardim', 'Jardim Europa',
            'Jardim Paulista', 'Jardim Planalto', 'Jardim Primavera', 'Jardim S√£o Paulo',
            
            // Bairros tradicionais
            'Pauliceia', 'Clube de Campo', 'Jaragu√°', 'Vila Rezende', 'Santa Terezinha',
            'Piracicamirim', '√Ågua Branca', 'Campestre', 'Cecap', 'Nova Piracicaba',
            'Taquaral', 'S√£o Dimas', 'Vila Industrial', 'Vila Monteiro', 'Vila Nova',
            
            // Jardins e loteamentos
            'Jardim Am√©rica', 'Jardim Boa Esperan√ßa', 'Jardim Bras√≠lia', 'Jardim Calif√≥rnia',
            'Jardim Campestre', 'Jardim Castelinho', 'Jardim Caxambu', 'Jardim Cidade Alta',
            'Jardim Cidade Jardim', 'Jardim Clube de Campo', 'Jardim Ibirapuera', 'Jardim Ipanema',
            'Jardim Itapu√£', 'Jardim Jequitib√°', 'Jardim Lago Azul', 'Jardim Maracan√£',
            'Jardim Maria Luiza', 'Jardim Monte Alegre', 'Jardim Morada do Sol',
            'Jardim Nossa Senhora de F√°tima', 'Jardim Nova Am√©rica', 'Jardim Nova Piracicaba',
            'Jardim Oriente', 'Jardim S√£o Francisco', 'Jardim S√£o Jorge', 'Jardim S√£o Jos√©',
            'Jardim S√£o Judas', 'Jardim S√£o Luiz', 'Jardim S√£o Pedro', 'Jardim S√£o Sebasti√£o',
            'Jardim Taquaral', 'Jardim Vila Real',
            
            // Parques e loteamentos
            'Parque Aut√≥dromo', 'Parque da Rua do Porto', 'Parque das Na√ß√µes',
            'Parque dos Eucaliptos', 'Parque dos Ip√™s', 'Parque dos Jequitib√°s',
            'Parque dos L√≠rios', 'Parque dos Pinheiros', 'Parque dos Sabi√°s',
            'Parque Industrial', 'Parque Residencial', 'Parque S√£o Jorge', 'Parque S√£o Judas',
            
            // Vilas e bairros tradicionais
            'Vila Are√£o', 'Vila Independ√™ncia', 'Vila S√¥nia', 'Ch√°cara Nazareth',
            'Castelinho', 'Bairro Alto', 'Santa Rosa', 'Nova Am√©rica',
            
            // Regi√£o de Dois C√≥rregos e adjac√™ncias
            'Dois C√≥rregos', 'Santa Ol√≠mpia', 'Santana', 'S√£o Jos√©', 'S√£o Roque',
            'C√≥rrego do Salto', 'C√≥rrego Fundo', 'C√≥rrego Grande', 'C√≥rrego do Meio',
            'C√≥rrego do Ouro', 'C√≥rrego Seco', 'C√≥rrego do Engenho', 'C√≥rrego da Lagoa',
            
            // Regi√£o de Saltinho e adjac√™ncias
            'Saltinho', 'Rio das Pedras', 'Mombuca', 'Capivari', 'Rafard',
            'S√£o Pedro', '√Åguas de S√£o Pedro', 'Santa B√°rbara d\'Oeste', 'Americana',
            'Nova Odessa', 'Sumar√©', 'Hortol√¢ndia', 'Monte Mor', 'Elias Fausto',
            
            // Distritos de Piracicaba
            'Artemis', 'Ibitiruna', 'Tupi', 'Guamium', 'Anhumas',
            'Tanquinho', 'Pau Queimado', 'Pinheiros', 'Serrote', 'Pereiras',
            
            // Novos loteamentos e condom√≠nios
            'Condom√≠nio Residencial Alto Padr√£o', 'Loteamento Cidade Jardim',
            'Loteamento Parque dos Ip√™s', 'Loteamento Santa Rosa', 'Loteamento S√£o Judas',
            'Residencial √Ågua Branca', 'Residencial Campestre', 'Residencial Castelinho',
            'Residencial Cidade Alta', 'Residencial Cidade Jardim', 'Residencial Clube de Campo',
            'Residencial Europa', 'Residencial Ibirapuera', 'Residencial Itapu√£',
            'Residencial Maracan√£', 'Residencial Monte Alegre', 'Residencial Morada do Sol',
            'Residencial Nossa Senhora de F√°tima', 'Residencial Nova Am√©rica',
            'Residencial Nova Piracicaba', 'Residencial Oriente', 'Residencial Pauliceia',
            'Residencial Planalto', 'Residencial Primavera', 'Residencial Santa Terezinha',
            'Residencial S√£o Dimas', 'Residencial S√£o Francisco', 'Residencial S√£o Jorge',
            'Residencial S√£o Judas', 'Residencial S√£o Luiz', 'Residencial S√£o Paulo',
            'Residencial Taquaral', 'Residencial Vila Rezende',
            
            // Regi√£o rural e ch√°caras
            'Ch√°cara da Barra', 'Ch√°cara do Salto', 'Ch√°cara dos Eucaliptos',
            'Ch√°cara dos Ip√™s', 'Ch√°cara Recanto', 'S√≠tio do Meio', 'S√≠tio do Ouro',
            'S√≠tio do Salto', 'S√≠tio Santa Maria', 'S√≠tio S√£o Jos√©',
            
            // Bairros perif√©ricos e expans√£o
            'Bairro dos Prados', 'Bairro dos Lagos', 'Bairro das Na√ß√µes',
            'Bairro dos Estados', 'Bairro das Bandeiras', 'Bairro do Carmo',
            'Bairro do Bosque', 'Bairro do Parque', 'Bairro do Lago',
            'Bairro da Ponte', 'Bairro da Esta√ß√£o', 'Bairro da Rodovi√°ria',
            
            // Regi√£o norte
            'Norte', 'Jardim Norte', 'Parque Norte', 'Residencial Norte',
            
            // Regi√£o sul
            'Sul', 'Jardim Sul', 'Parque Sul', 'Residencial Sul',
            
            // Regi√£o leste
            'Leste', 'Jardim Leste', 'Parque Leste', 'Residencial Leste',
            
            // Regi√£o oeste
            'Oeste', 'Jardim Oeste', 'Parque Oeste', 'Residencial Oeste'
        ].sort((a, b) => a.localeCompare(b));

        // ==================== BANCO DE DADOS SIMULADO ====================
        const usuarios = [
            {
                id: 1,
                tipo: 'admin',
                nome: 'Administrador',
                email: 'contatorimso@outlook.com',
                senha: 'rimso#17'
            }
        ];

        // ==================== LOJAS DE EXEMPLO PARA TESTE ====================
        const lojas = [
            {
                id: 1,
                nome: 'Moda Center Piracicaba',
                bairro: 'Centro',
                endereco: 'Rua do Ros√°rio, 500',
                categoria: 'Roupas',
                avaliacao: 4.8,
                totalAvaliacoes: 156,
                whatsapp: '1999991234',
                favoritos: 45
            },
            {
                id: 2,
                nome: 'StreetWear Club',
                bairro: 'Alto',
                endereco: 'Av. Independ√™ncia, 1200',
                categoria: 'Streetwear',
                avaliacao: 4.6,
                totalAvaliacoes: 89,
                whatsapp: '1998885678',
                favoritos: 23
            },
            {
                id: 3,
                nome: 'Kids Fashion',
                bairro: 'Pauliceia',
                endereco: 'Rua Volunt√°rios, 300',
                categoria: 'Infantil',
                avaliacao: 4.9,
                totalAvaliacoes: 234,
                whatsapp: '1997779012',
                favoritos: 67
            }
        ];
        
        let usuarioLogado = null;

        // ==================== FUN√á√ïES DE MODAL ====================
        function abrirModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function fecharModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // ==================== CARREGAR BAIRROS ====================
        function carregarBairros() {
            const selects = ['clienteBairro', 'lojaBairro'];
            selects.forEach(id => {
                const select = document.getElementById(id);
                if (select) {
                    select.innerHTML = '<option value="">Selecione</option>' + 
                        bairrosPiracicaba.map(b => `<option value="${b}">${b}</option>`).join('');
                }
            });
        }

        // ==================== ATUALIZAR TABELA ADMIN ====================
        function atualizarTabelaAdmin() {
            const tbody = document.getElementById('tabelaUsuarios');
            if (tbody) {
                tbody.innerHTML = usuarios.map(u => `
                    <tr>
                        <td>${u.nome}</td>
                        <td>${u.email}</td>
                        <td><span class="badge ${u.tipo}">${u.tipo}</span></td>
                    </tr>
                `).join('');
            }

            document.getElementById('totalUsuarios').textContent = usuarios.length;
            document.getElementById('totalLojas').textContent = lojas.length;
            document.getElementById('totalBairros').textContent = bairrosPiracicaba.length;
        }

        // ==================== LOGIN ====================
        function fazerLogin() {
            const email = document.getElementById('loginEmail').value;
            const senha = document.getElementById('loginSenha').value;

            const usuario = usuarios.find(u => u.email === email && u.senha === senha);

            if (usuario) {
                usuarioLogado = usuario;
                mostrarToast(`Bem-vindo(a), ${usuario.nome}!`);
                fecharModal('modalLogin');
                
                document.getElementById('cadastroScreen').classList.add('hidden');
                
                if (usuario.tipo === 'admin') {
                    document.getElementById('adminPanel').classList.remove('hidden');
                    atualizarTabelaAdmin();
                } else if (usuario.tipo === 'cliente') {
                    document.getElementById('appCliente').classList.remove('hidden');
                    document.getElementById('clienteNomeDisplay').textContent = usuario.nome;
                } else if (usuario.tipo === 'lojista') {
                    document.getElementById('appLojista').classList.remove('hidden');
                    document.getElementById('lojaNomeDisplay').textContent = usuario.nome;
                }
            } else {
                mostrarToast('Email ou senha inv√°lidos', 'error');
            }
        }

        // ==================== CADASTROS ====================
        function cadastrarCliente(event) {
            event.preventDefault();
            
            const nome = document.getElementById('clienteNome').value;
            const email = document.getElementById('clienteEmail').value;
            const senha = document.getElementById('clienteSenha').value;
            
            if (usuarios.some(u => u.email === email)) {
                mostrarToast('Email j√° cadastrado!', 'error');
                return;
            }
            
            const novoUsuario = {
                id: usuarios.length + 1,
                tipo: 'cliente',
                nome: nome,
                email: email,
                senha: senha
            };
            
            usuarios.push(novoUsuario);
            mostrarToast(`‚úÖ Cliente ${nome} cadastrado com sucesso!`);
            fecharModal('modalCadastroCliente');
        }

        function cadastrarLojista(event) {
            event.preventDefault();
            
            const nomeLoja = document.getElementById('lojaNome').value;
            const proprietario = document.getElementById('proprietarioNome').value;
            const email = document.getElementById('lojaEmail').value;
            const senha = document.getElementById('lojaSenha').value;
            const bairro = document.getElementById('lojaBairro').value;
            const plano = document.getElementById('lojaPlano').value;
            
            if (usuarios.some(u => u.email === email)) {
                mostrarToast('Email j√° cadastrado!', 'error');
                return;
            }
            
            const novoUsuario = {
                id: usuarios.length + 1,
                tipo: 'lojista',
                nome: proprietario,
                email: email,
                senha: senha
            };
            
            usuarios.push(novoUsuario);
            
            lojas.push({
                id: lojas.length + 1,
                nome: nomeLoja,
                proprietario: proprietario,
                bairro: bairro,
                plano: plano
            });
            
            mostrarToast(`‚úÖ Loja ${nomeLoja} cadastrada! Aguarde aprova√ß√£o.`);
            fecharModal('modalCadastroLojista');
        }

        // ==================== FUN√á√ïES ADMIN ====================
        function abrirModoCliente() {
            document.getElementById('adminPanel').classList.add('hidden');
            document.getElementById('appCliente').classList.remove('hidden');
            document.getElementById('clienteNomeDisplay').textContent = 'Admin (Modo Cliente)';
            // Carregar lojas quando entrar no modo cliente
            mostrarSecaoCliente('lojas');
        }

        function abrirModoLojista() {
            document.getElementById('adminPanel').classList.add('hidden');
            document.getElementById('appLojista').classList.remove('hidden');
            document.getElementById('lojaNomeDisplay').textContent = 'Admin (Modo Lojista)';
        }

        function voltarAdmin() {
            document.getElementById('appCliente').classList.add('hidden');
            document.getElementById('appLojista').classList.add('hidden');
            document.getElementById('adminPanel').classList.remove('hidden');
            atualizarTabelaAdmin();
        }

        function logout() {
            usuarioLogado = null;
            document.getElementById('adminPanel').classList.add('hidden');
            document.getElementById('appCliente').classList.add('hidden');
            document.getElementById('appLojista').classList.add('hidden');
            document.getElementById('cadastroScreen').classList.remove('hidden');
            mostrarToast('Voc√™ saiu do sistema');
        }

        // ==================== FUN√á√ïES CLIENTE ====================
        function mostrarSecaoCliente(secao) {
            document.querySelectorAll('#appCliente .menu-item').forEach(i => i.classList.remove('active'));
            event.currentTarget.classList.add('active');

            const content = document.getElementById('clienteContent');

            if (secao === 'inicio') {
                content.innerHTML = `
                    <div style="text-align: center; padding: 40px; background: var(--gradient); border-radius: 30px;">
                        <h1 style="font-size: 28px;">Ol√°, ${usuarioLogado?.nome || 'Visitante'}! üëã</h1>
                        <p>Encontre as melhores lojas em Piracicaba e regi√£o</p>
                    </div>
                    <div class="stats-grid" style="margin-top: 30px;">
                        <div class="stat-card"><div class="stat-value">${bairrosPiracicaba.length}</div><div class="stat-label">Bairros</div></div>
                        <div class="stat-card"><div class="stat-value">${lojas.length}</div><div class="stat-label">Lojas</div></div>
                        <div class="stat-card"><div class="stat-value">4.8</div><div class="stat-label">Avalia√ß√£o M√©dia</div></div>
                    </div>
                `;
            } else if (secao === 'bairros') {
                content.innerHTML = `
                    <h2 style="margin-bottom: 20px;">Bairros de Piracicaba e Regi√£o</h2>
                    <p style="margin-bottom: 15px; color: var(--text-secondary);">Total: ${bairrosPiracicaba.length} bairros</p>
                    <div class="bairros-grid">
                        ${bairrosPiracicaba.map(b => `
                            <div class="bairro-card" onclick="verLojasBairro('${b}')">
                                <span>${b}</span>
                                <span style="color: var(--gray);">${Math.floor(Math.random() * 5) + 1} lojas</span>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else if (secao === 'lojas') {
                content.innerHTML = `
                    <h2 style="margin-bottom: 20px;">Todas as Lojas</h2>
                    <div class="lojas-grid" id="lojasGrid">
                        ${lojas.map(l => `
                            <div class="loja-card" data-loja-id="${l.id}">
                                <h3>${l.nome}</h3>
                                <p>üìç ${l.bairro}</p>
                                <p>‚≠ê ${l.avaliacao} (${l.totalAvaliacoes} avalia√ß√µes)</p>
                                <p><small>${l.categoria}</small></p>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                // Disparar evento para que os scripts adicionem os bot√µes
                setTimeout(() => {
                    const event = new CustomEvent('lojasCarregadas');
                    document.dispatchEvent(event);
                }, 500);
            } else if (secao === 'favoritos') {
                content.innerHTML = `
                    <h2 style="margin-bottom: 20px;">Minhas Lojas Favoritas</h2>
                    <div style="text-align: center; padding: 40px;">
                        <p>Voc√™ ainda n√£o tem lojas favoritas</p>
                        <p>Explore as lojas e favorite as que mais gostar!</p>
                    </div>
                `;
            }
        }

        function verLojasBairro(bairro) {
            mostrarToast(`Buscando lojas em ${bairro}...`);
            // Filtrar lojas pelo bairro
            const lojasFiltradas = lojas.filter(l => l.bairro === bairro);
            const content = document.getElementById('clienteContent');
            content.innerHTML = `
                <h2 style="margin-bottom: 20px;">Lojas em ${bairro}</h2>
                <div class="lojas-grid" id="lojasGrid">
                    ${lojasFiltradas.length > 0 ? 
                        lojasFiltradas.map(l => `
                            <div class="loja-card" data-loja-id="${l.id}">
                                <h3>${l.nome}</h3>
                                <p>üìç ${l.bairro}</p>
                                <p>‚≠ê ${l.avaliacao} (${l.totalAvaliacoes} avalia√ß√µes)</p>
                                <p><small>${l.categoria}</small></p>
                            </div>
                        `).join('') 
                        : '<p style="grid-column: 1/-1; text-align: center;">Nenhuma loja encontrada neste bairro</p>'}
                </div>
            `;
            setTimeout(() => {
                const event = new CustomEvent('lojasCarregadas');
                document.dispatchEvent(event);
            }, 500);
        }

        // ==================== FUN√á√ïES LOJISTA ====================
        function mostrarSecaoLojista(secao) {
            document.querySelectorAll('#appLojista .menu-item').forEach(i => i.classList.remove('active'));
            event.currentTarget.classList.add('active');

            const content = document.getElementById('lojistaContent');

            if (secao === 'dashboard') {
                content.innerHTML = `
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value">1.247</div>
                            <div class="stat-label">Visualiza√ß√µes</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">89</div>
                            <div class="stat-label">Contatos WhatsApp</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">34</div>
                            <div class="stat-label">Vendas</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">4.8</div>
                            <div class="stat-label">Avalia√ß√£o M√©dia</div>
                        </div>
                    </div>
                    <div style="margin-top: 30px;">
                        <h3>√öltimas atividades</h3>
                        <p style="color: var(--text-secondary);">Nenhuma atividade recente</p>
                    </div>
                `;
            } else if (secao === 'vendas') {
                content.innerHTML = `
                    <h2 style="margin-bottom: 20px;">Minhas Vendas</h2>
                    <table style="width:100%; border-collapse: collapse;">
                        <tr style="background: var(--light);">
                            <th style="padding: 12px; text-align: left;">Produto</th>
                            <th>Cliente</th>
                            <th>Valor</th>
                            <th>Status</th>
                        </tr>
                        <tr><td colspan="4" style="padding: 40px; text-align: center;">Nenhuma venda registrada</td></tr>
                    </table>
                `;
            } else if (secao === 'produtos') {
                content.innerHTML = `
                    <h2 style="margin-bottom: 20px;">Meus Produtos</h2>
                    <button class="btn btn-primary" style="width: auto; margin-bottom: 20px;">
                        <i class="fas fa-plus"></i> Adicionar Produto
                    </button>
                    <p style="color: var(--text-secondary);">Nenhum produto cadastrado</p>
                `;
            } else if (secao === 'promocoes') {
                content.innerHTML = `
                    <h2 style="margin-bottom: 20px;">Promo√ß√µes</h2>
                    <button class="btn btn-gold" style="width: auto; margin-bottom: 20px;">
                        <i class="fas fa-bolt"></i> Criar Promo√ß√£o Rel√¢mpago
                    </button>
                    <p style="color: var(--text-secondary);">Nenhuma promo√ß√£o ativa</p>
                `;
            }
        }

        // ==================== TOAST ====================
        function mostrarToast(mensagem, tipo = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = mensagem;
            toast.className = `toast ${tipo} show`;
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // ==================== INICIALIZA√á√ÉO ====================
        window.onload = function() {
            carregarBairros();
            atualizarTabelaAdmin();
            console.log(`‚úÖ ${bairrosPiracicaba.length} bairros carregados!`);
            
            // Adicionar lojas ao array global para outros scripts
            window.lojasExemplo = lojas;
        };
    </script>

    <!-- ==================== SCRIPTS DAS FUN√á√ïES ==================== -->
    <script src="avaliacoes.js"></script>
    <script src="feed.js"></script>
    <script src="favoritos.js"></script>
    <script src="rotas.js"></script>
    <script src="filtrosavan.js"></script>
    <script src="notificacoes.js"></script>
    <script src="estatisticas.js"></script>
    <script src="promocoes.js"></script>
    <script src="compartilhar.js"></script>
    <script src="adminadv.js"></script>
    
    <!-- ==================== ARQUIVO DE INTEGRA√á√ÉO ==================== -->
    <script src="integracao.js"></script>

    <!-- ==================== INICIALIZAR FUN√á√ïES ==================== -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                // Sistema de Avalia√ß√µes
                if (typeof criarModalAvaliacao === 'function') {
                    criarModalAvaliacao();
                    console.log('‚úÖ Avalia√ß√µes inicializado');
                }
                
                // Feed de Novidades
                if (typeof criarFeedInicial === 'function') {
                    criarFeedInicial();
                    console.log('‚úÖ Feed inicializado');
                }
                
                // Favoritos / Listas Personalizadas
                if (typeof criarModalListas === 'function') {
                    criarModalListas();
                    console.log('‚úÖ Favoritos inicializado');
                }
                
                // Filtros Avan√ßados
                if (typeof criarBarraFiltros === 'function') {
                    const lojasContainer = document.getElementById('lojasContainer');
                    if (lojasContainer) {
                        criarBarraFiltros();
                        console.log('‚úÖ Filtros inicializado');
                    }
                }
                
                // Notifica√ß√µes
                if (typeof criarPainelNotificacoes === 'function') {
                    criarPainelNotificacoes();
                    console.log('‚úÖ Notifica√ß√µes inicializado');
                }
                
                // Promo√ß√µes
                if (typeof criarModalPromocao === 'function') {
                    criarModalPromocao();
                    console.log('‚úÖ Promo√ß√µes inicializado');
                }
                
                // Bot√£o de Compartilhar
                if (typeof criarBotaoCompartilhar === 'function') {
                    criarBotaoCompartilhar();
                    console.log('‚úÖ Compartilhar inicializado');
                }
                
                console.log('üöÄ Todas as fun√ß√µes inicializadas!');
            }, 500);
        });
    </script>
</body>
</html>
