<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIMSO - Descubra lojas incr√≠veis no seu bairro</title>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        :root {
            --bg-primary: #FFFFFF;
            --text-primary: #1A1A1A;
            --text-secondary: #4A4A4A;
            --border-light: #E5E7EB;
            --primary: #0066CC;
            --primary-dark: #004999;
            --secondary: #00A86B;
            --accent: #FF6B6B;
            --warning: #FF8C42;
            --gray: #6B7280;
            --light: #F9FAFB;
            --success: #00A86B;
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
        }

        body {
            background: var(--bg-primary);
            min-height: 100vh;
        }

        /* Container Principal */
        .app {
            max-width: 1400px;
            margin: 0 auto;
            background: var(--bg-primary);
            min-height: 100vh;
            display: grid;
            grid-template-columns: 300px 1fr;
        }

        /* Sidebar */
        .sidebar {
            background: var(--bg-primary);
            border-right: 2px solid var(--border-light);
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            height: 100vh;
            position: sticky;
            top: 0;
        }

        .logo-area {
            padding: 0 10px 30px 10px;
            border-bottom: 2px solid var(--border-light);
            margin-bottom: 20px;
        }

        .logo {
            font-size: 32px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .logo span {
            color: var(--primary);
        }

        .logo-tagline {
            color: var(--text-secondary);
            font-size: 12px;
        }

        .user-status {
            background: var(--light);
            border-radius: 16px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 18px;
        }

        .user-info h4 {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .user-info p {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 16px;
        }

        .regiao-titulo {
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 15px;
            padding: 0 10px;
            font-size: 14px;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .cidades-lista {
            flex: 1;
            overflow-y: auto;
            padding-right: 5px;
        }

        .cidade-item {
            padding: 12px 15px;
            margin: 4px 0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 2px solid transparent;
        }

        .cidade-item:hover {
            background: var(--light);
        }

        .cidade-item.active {
            background: var(--primary);
            color: white;
        }

        .cidade-item.active .cidade-count {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .cidade-nome {
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cidade-nome i {
            width: 20px;
            color: var(--primary);
        }

        .cidade-item.active .cidade-nome i {
            color: white;
        }

        .cidade-count {
            background: var(--light);
            padding: 2px 8px;
            border-radius: 60px;
            font-size: 11px;
            font-weight: 600;
        }

        /* Main Content */
        .main-content {
            background: var(--bg-primary);
            overflow-y: auto;
            height: 100vh;
        }

        /* Top Bar */
        .top-bar {
            padding: 20px 30px;
            background: var(--bg-primary);
            border-bottom: 2px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            background: rgba(255,255,255,0.9);
        }

        .local-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .regiao-destaque {
            font-size: 13px;
            color: var(--primary);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .cidade-selecionada {
            font-size: 24px;
            font-weight: 800;
            color: var(--text-primary);
        }

        .bairro-selecionado {
            color: var(--text-secondary);
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .search-box {
            background: var(--light);
            border-radius: 60px;
            padding: 10px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            width: 350px;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .search-box:focus-within {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0,102,204,0.1);
        }

        .search-box input {
            background: transparent;
            border: none;
            flex: 1;
            font-size: 14px;
            outline: none;
        }

        /* Quick Filters */
        .quick-filters {
            padding: 15px 30px;
            display: flex;
            gap: 10px;
            overflow-x: auto;
            border-bottom: 2px solid var(--border-light);
        }

        .filter-chip {
            background: var(--light);
            padding: 8px 16px;
            border-radius: 60px;
            font-size: 13px;
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .filter-chip:hover {
            background: var(--primary);
            color: white;
        }

        .filter-chip.active {
            background: var(--primary);
            color: white;
        }

        .filter-chip i {
            margin-right: 6px;
        }

        /* Content Area */
        .content-area {
            padding: 30px;
        }

        /* Breadcrumb */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 25px;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .breadcrumb-item {
            cursor: pointer;
            font-weight: 500;
        }

        .breadcrumb-item:hover {
            color: var(--primary);
        }

        .breadcrumb-item.active {
            color: var(--text-primary);
            font-weight: 700;
        }

        /* Bairros em Destaque */
        .bairros-destaque {
            margin-bottom: 30px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-title i {
            color: var(--primary);
        }

        .bairros-scroll {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding: 5px 0 15px 0;
        }

        .bairro-card {
            min-width: 200px;
            background: var(--light);
            border-radius: 16px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .bairro-card:hover {
            border-color: var(--primary);
            background: white;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .bairro-nome {
            font-weight: 700;
            margin-bottom: 5px;
        }

        .bairro-stats {
            display: flex;
            justify-content: space-between;
            color: var(--text-secondary);
            font-size: 12px;
        }

        /* Lojas Grid */
        .lojas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .loja-card {
            background: var(--bg-primary);
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid var(--border-light);
            cursor: pointer;
            transition: all 0.3s;
        }

        .loja-card:hover {
            border-color: var(--primary);
            transform: translateY(-4px);
            box-shadow: var(--shadow);
        }

        .loja-cover {
            height: 140px;
            background: linear-gradient(145deg, rgba(0,102,204,0.05), rgba(0,168,107,0.05));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            position: relative;
        }

        .loja-distancia {
            position: absolute;
            top: 12px;
            right: 12px;
            background: var(--primary);
            color: white;
            padding: 4px 10px;
            border-radius: 60px;
            font-size: 11px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .loja-favorite {
            position: absolute;
            top: 12px;
            left: 12px;
            background: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--accent);
            box-shadow: var(--shadow);
        }

        .loja-info {
            padding: 18px;
        }

        .loja-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 8px;
        }

        .loja-nome {
            font-size: 18px;
            font-weight: 700;
        }

        .loja-bairro {
            background: var(--light);
            padding: 4px 8px;
            border-radius: 60px;
            font-size: 11px;
            font-weight: 600;
        }

        .loja-endereco {
            color: var(--text-secondary);
            font-size: 13px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .loja-categoria {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
            margin-bottom: 12px;
        }

        .categoria-tag {
            background: var(--light);
            padding: 4px 10px;
            border-radius: 60px;
            font-size: 11px;
        }

        .loja-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 2px solid var(--border-light);
            padding-top: 15px;
        }

        .loja-status {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 13px;
        }

        .status-aberto {
            color: var(--success);
            font-weight: 600;
        }

        .status-fechado {
            color: var(--accent);
            font-weight: 600;
        }

        .contato-btn {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 6px 16px;
            border-radius: 60px;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .contato-btn:hover {
            background: var(--primary);
            color: white;
        }

        /* Perfil da Loja */
        .perfil-loja {
            background: var(--bg-primary);
            border-radius: 24px;
            overflow: hidden;
            border: 2px solid var(--border-light);
        }

        .perfil-header {
            height: 220px;
            background: linear-gradient(145deg, rgba(0,102,204,0.1), rgba(0,168,107,0.1));
            position: relative;
            display: flex;
            align-items: flex-end;
            padding: 25px;
        }

        .perfil-foto {
            width: 100px;
            height: 100px;
            border-radius: 20px;
            background: white;
            border: 4px solid var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            margin-bottom: -50px;
            box-shadow: var(--shadow);
        }

        .perfil-info {
            flex: 1;
            margin-left: 25px;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .perfil-nome {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 5px;
        }

        .perfil-local {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .perfil-body {
            padding: 70px 25px 25px 25px;
        }

        .perfil-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .info-item {
            background: var(--light);
            border-radius: 16px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .info-label {
            color: var(--text-secondary);
            font-size: 11px;
            text-transform: uppercase;
        }

        .info-value {
            font-weight: 600;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .instagram-feed {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .instagram-post {
            aspect-ratio: 1;
            background: var(--light);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border: 2px solid var(--border-light);
            cursor: pointer;
            transition: all 0.2s;
        }

        .instagram-post:hover {
            border-color: var(--primary);
            transform: scale(1.02);
        }

        .avaliacoes-resumo {
            display: flex;
            align-items: center;
            gap: 20px;
            background: var(--light);
            border-radius: 16px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .avaliacao-media {
            text-align: center;
        }

        .avaliacao-numero {
            font-size: 36px;
            font-weight: 800;
            color: var(--primary);
            line-height: 1;
        }

        .avaliacao-estrelas {
            color: var(--warning);
            font-size: 14px;
        }

        .avaliacao-total {
            color: var(--text-secondary);
            font-size: 12px;
        }

        .comentario-item {
            background: var(--light);
            border-radius: 16px;
            padding: 15px;
            margin-bottom: 10px;
        }

        .comentario-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .comentario-usuario {
            font-weight: 600;
        }

        .comentario-nota {
            color: var(--warning);
        }

        .comentario-texto {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .comentario-data {
            color: var(--text-secondary);
            font-size: 11px;
            margin-top: 8px;
        }

        .contato-acoes {
            display: flex;
            gap: 12px;
            margin-top: 25px;
        }

        .btn-contato {
            flex: 1;
            padding: 16px;
            border-radius: 60px;
            border: none;
            font-weight: 700;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-whatsapp {
            background: var(--secondary);
            color: white;
        }

        .btn-whatsapp:hover {
            background: #008f5c;
        }

        .btn-telefone {
            background: var(--primary);
            color: white;
        }

        .btn-telefone:hover {
            background: var(--primary-dark);
        }

        .btn-voltar {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
            cursor: pointer;
            font-weight: 600;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .btn-voltar:hover {
            color: var(--primary-dark);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 24px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            border: 2px solid var(--border-light);
            box-shadow: var(--shadow);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
        }

        .modal-close {
            font-size: 24px;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .modal-close:hover {
            color: var(--accent);
        }

        .hidden {
            display: none !important;
        }

        .loading {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 3px solid rgba(0,102,204,0.2);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--text-primary);
            color: white;
            padding: 15px 25px;
            border-radius: 60px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow);
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.success {
            background: var(--success);
        }

        .toast.error {
            background: var(--accent);
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .app {
                grid-template-columns: 1fr;
            }
            .sidebar {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo-area">
                <div class="logo">RIM<span>SO</span></div>
                <div class="logo-tagline">Lojas do seu bairro</div>
            </div>

            <div class="user-status" onclick="fazerLogin()">
                <div class="user-avatar">
                    <i class="far fa-user"></i>
                </div>
                <div class="user-info">
                    <h4>Bem-vindo(a)</h4>
                    <p>Fa√ßa login para salvar lojas</p>
                </div>
            </div>

            <div class="regiao-titulo">
                <i class="fas fa-phone-alt" style="color: var(--primary);"></i>
                DDD 19 - Campinas e Regi√£o
            </div>

            <div class="cidades-lista" id="cidadesLista">
                <!-- Preenchido via JS -->
            </div>

            <div style="margin-top: 20px; padding: 15px; background: var(--light); border-radius: 12px;">
                <p style="color: var(--text-secondary); font-size: 12px; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-store"></i>
                    <span id="totalLojasRegiao">0 lojas cadastradas</span>
                </p>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="local-info">
                    <div class="regiao-destaque">
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="cidadeAtual">Carregando...</span>
                    </div>
                    <div class="bairro-selecionado" id="bairroAtual">
                        <i class="fas fa-map-pin"></i>
                        <span>Carregando...</span>
                    </div>
                </div>
                <div class="search-box">
                    <i class="fas fa-search" style="color: var(--primary);"></i>
                    <input type="text" placeholder="Buscar lojas, bairros, categorias..." id="searchInput">
                </div>
            </div>

            <!-- Quick Filters -->
            <div class="quick-filters" id="quickFilters">
                <!-- Preenchido via JS -->
            </div>

            <!-- Content Area -->
            <div class="content-area" id="contentArea">
                <!-- Loading -->
                <div id="loading" class="hidden" style="text-align: center; padding: 50px;">
                    <div class="loading"></div>
                    <p style="margin-top: 20px; color: var(--text-secondary);">Carregando...</p>
                </div>

                <!-- Tela de Boas-vindas -->
                <div id="telaBoasVindas">
                    <div style="text-align: center; max-width: 600px; margin: 50px auto;">
                        <div style="font-size: 80px; margin-bottom: 20px;">üëã</div>
                        <h1 style="font-size: 36px; margin-bottom: 20px;">Bem-vindo ao RIMSO</h1>
                        <p style="color: var(--text-secondary); font-size: 18px; margin-bottom: 30px;">Descubra lojas incr√≠veis perto de voc√™ em Campinas e regi√£o</p>
                        
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 40px;">
                            <div>
                                <div style="font-size: 40px; margin-bottom: 10px;">üìç</div>
                                <h3>Escolha seu bairro</h3>
                                <p style="color: var(--text-secondary); font-size: 14px;">Encontre lojas no Cecap, Centro, Cambu√≠ e muito mais</p>
                            </div>
                            <div>
                                <div style="font-size: 40px; margin-bottom: 10px;">üëï</div>
                                <h3>Descubra lojas</h3>
                                <p style="color: var(--text-secondary); font-size: 14px;">Veja fotos, categorias e informa√ß√µes das lojas</p>
                            </div>
                            <div>
                                <div style="font-size: 40px; margin-bottom: 10px;">üí¨</div>
                                <h3>Fale direto</h3>
                                <p style="color: var(--text-secondary); font-size: 14px;">Entre em contato via WhatsApp ou telefone</p>
                            </div>
                        </div>

                        <button class="btn-contato" style="margin-top: 40px; padding: 16px 40px; width: auto; background: var(--primary); color: white; border: none; border-radius: 60px; font-weight: 700; cursor: pointer;" onclick="comecarExplorar()">
                            Come√ßar a explorar <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Tela de Lojas -->
                <div id="telaLojas" class="hidden">
                    <!-- Breadcrumb -->
                    <div class="breadcrumb">
                        <span class="breadcrumb-item" onclick="voltarBoasVindas()">In√≠cio</span>
                        <i class="fas fa-chevron-right"></i>
                        <span class="breadcrumb-item" id="breadcrumbCidade">Campinas</span>
                        <i class="fas fa-chevron-right"></i>
                        <span class="breadcrumb-item active" id="breadcrumbBairro">Todos os bairros</span>
                    </div>

                    <!-- Bairros em Destaque -->
                    <div class="bairros-destaque">
                        <div class="section-header">
                            <div class="section-title">
                                <i class="fas fa-fire"></i>
                                Bairros em alta em Campinas
                            </div>
                            <span style="color: var(--primary); font-size: 13px; cursor: pointer;" onclick="verTodosBairros()">Ver todos</span>
                        </div>
                        <div class="bairros-scroll" id="bairrosDestaque">
                            <!-- Preenchido via JS -->
                        </div>
                    </div>

                    <!-- Lojas -->
                    <div class="section-header">
                        <div class="section-title">
                            <i class="fas fa-store"></i>
                            <span id="tituloLojas">Lojas recomendadas</span>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <select style="padding: 8px 16px; border-radius: 60px; border: 2px solid var(--border-light); background: white; font-size: 13px;" onchange="ordenarLojas(this.value)">
                                <option value="relevancia">Mais relevantes</option>
                                <option value="distancia">Mais pr√≥ximas</option>
                                <option value="avaliacao">Melhor avaliadas</option>
                                <option value="novas">Mais novas</option>
                            </select>
                        </div>
                    </div>

                    <div class="lojas-grid" id="lojasContainer">
                        <!-- Preenchido via JS -->
                    </div>
                </div>

                <!-- Tela de Perfil da Loja -->
                <div id="telaPerfilLoja" class="hidden">
                    <div class="btn-voltar" onclick="voltarParaLojas()">
                        <i class="fas fa-arrow-left"></i> Voltar para lojas
                    </div>

                    <div class="perfil-loja" id="perfilLojaContainer">
                        <!-- Preenchido via JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Login -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Fazer login</div>
                <div class="modal-close" onclick="fecharModal()">√ó</div>
            </div>
            <div style="text-align: center; padding: 20px;">
                <p style="margin-bottom: 20px; color: var(--text-secondary);">Entre para salvar suas lojas favoritas e receber novidades</p>
                <button class="btn-contato" style="background: var(--primary); color: white; border: none; padding: 12px;" onclick="loginGoogle()">
                    <i class="fab fa-google"></i> Continuar com Google
                </button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <script>
        // Dados completos
        const dados = {
            cidades: [
                { nome: 'Campinas', lojas: 156, destaque: true },
                { nome: 'Santa B√°rbara', lojas: 89 },
                { nome: 'Americana', lojas: 78 },
                { nome: 'Piracicaba', lojas: 94 },
                { nome: 'Hortol√¢ndia', lojas: 67 },
                { nome: 'Sumar√©', lojas: 52 },
                { nome: 'Indaiatuba', lojas: 73 },
                { nome: 'Valinhos', lojas: 41 },
                { nome: 'Vinhedo', lojas: 35 },
                { nome: 'Paul√≠nia', lojas: 28 }
            ],
            bairros: {
                'Campinas': [
                    { nome: 'Cecap', lojas: 23, destaque: true },
                    { nome: 'Centro', lojas: 45, destaque: true },
                    { nome: 'Cambu√≠', lojas: 38, destaque: true },
                    { nome: 'Taquaral', lojas: 19, destaque: true },
                    { nome: 'Bar√£o Geraldo', lojas: 31 },
                    { nome: 'Nova Campinas', lojas: 27 },
                    { nome: 'Jardim Paulista', lojas: 22 },
                    { nome: 'Guanabara', lojas: 18 },
                    { nome: 'Bonfim', lojas: 15 },
                    { nome: 'Swift', lojas: 14 }
                ],
                'Santa B√°rbara': [
                    { nome: 'Centro', lojas: 28 },
                    { nome: 'Jardim Am√©rica', lojas: 19 },
                    { nome: 'Cidade Nova', lojas: 15 }
                ],
                'Americana': [
                    { nome: 'Centro', lojas: 32 },
                    { nome: 'Jardim Ipiranga', lojas: 21 }
                ],
                'Piracicaba': [
                    { nome: 'Centro', lojas: 41 },
                    { nome: 'Alto', lojas: 27 }
                ]
            },
            lojas: [
                {
                    id: 1,
                    nome: 'Ana Modas',
                    cidade: 'Campinas',
                    bairro: 'Cecap',
                    endereco: 'Rua Jos√© de Alencar, 150',
                    distancia: '3 min',
                    categorias: ['Moda Feminina', 'Casual', 'Plus Size'],
                    aberto: true,
                    horario: '9h √†s 19h',
                    telefone: '(19) 3456-7890',
                    whatsapp: '(19) 98765-4321',
                    instagram: '@anamodas_cecap',
                    fotos: ['üëó', 'üëö', 'üëñ'],
                    avaliacao: 4.8,
                    totalAvaliacoes: 127,
                    descricao: 'Moda feminina para todas as idades. Roupas casuais, festa e plus size.',
                    destaque: true
                },
                {
                    id: 2,
                    nome: 'Streetwear Club',
                    cidade: 'Campinas',
                    bairro: 'Cecap',
                    endereco: 'Rua Castro Alves, 450',
                    distancia: '5 min',
                    categorias: ['Streetwear', 'Masculino', 'Skatewear'],
                    aberto: true,
                    horario: '10h √†s 20h',
                    telefone: '(19) 3234-5678',
                    whatsapp: '(19) 98888-7777',
                    instagram: '@streetwearclub',
                    avaliacao: 4.6,
                    totalAvaliacoes: 89,
                    destaque: true
                },
                {
                    id: 3,
                    nome: 'Kids Fashion',
                    cidade: 'Campinas',
                    bairro: 'Cecap',
                    endereco: 'Av. Papa Jo√£o XXIII, 800',
                    distancia: '7 min',
                    categorias: ['Moda Infantil', 'Beb√™', 'Enxoval'],
                    aberto: false,
                    horario: '9h √†s 18h',
                    telefone: '(19) 3456-1234',
                    whatsapp: '(19) 97777-8888',
                    instagram: '@kidsfashion_cecap',
                    avaliacao: 4.9,
                    totalAvaliacoes: 56
                },
                {
                    id: 4,
                    nome: 'Moda Center',
                    cidade: 'Campinas',
                    bairro: 'Centro',
                    endereco: 'Rua 13 de Maio, 500',
                    distancia: '12 min',
                    categorias: ['Multimarcas', 'Masculino', 'Feminino'],
                    aberto: true,
                    horario: '9h √†s 19h',
                    telefone: '(19) 3232-4567',
                    whatsapp: '(19) 99999-1234',
                    instagram: '@modacenter_cps',
                    avaliacao: 4.5,
                    totalAvaliacoes: 234
                },
                {
                    id: 5,
                    nome: 'Vintage Store',
                    cidade: 'Campinas',
                    bairro: 'Cambu√≠',
                    endereco: 'Rua Maria Monteiro, 300',
                    distancia: '15 min',
                    categorias: ['Vintage', 'Retr√¥', 'Brech√≥'],
                    aberto: false,
                    horario: '13h √†s 19h',
                    telefone: '(19) 3233-7890',
                    whatsapp: '(19) 98888-4444',
                    instagram: '@vintagestore_cps',
                    avaliacao: 4.7,
                    totalAvaliacoes: 67
                },
                {
                    id: 6,
                    nome: 'Moleca Modas',
                    cidade: 'Santa B√°rbara',
                    bairro: 'Jardim Am√©rica',
                    endereco: 'Av. Santa B√°rbara, 1000',
                    distancia: '25 min',
                    categorias: ['Moda Jovem', 'Feminino'],
                    aberto: true,
                    horario: '9h √†s 18h',
                    telefone: '(19) 3458-9012',
                    whatsapp: '(19) 97777-5555',
                    instagram: '@molecamodas',
                    avaliacao: 4.4,
                    totalAvaliacoes: 42
                }
            ],
            filtros: [
                { id: 'todos', nome: 'Todos', icone: 'üî•' },
                { id: 'feminino', nome: 'Moda Feminina', icone: 'üëó' },
                { id: 'masculino', nome: 'Moda Masculina', icone: 'üëî' },
                { id: 'infantil', nome: 'Infantil', icone: 'üß∏' },
                { id: 'plus', nome: 'Plus Size', icone: '‚ú®' },
                { id: 'street', nome: 'Streetwear', icone: 'üëï' },
                { id: 'brecho', nome: 'Brech√≥s', icone: 'üîÑ' }
            ]
        };

        // Estado
        let estado = {
            cidadeAtual: 'Campinas',
            bairroAtual: null,
            lojaAtual: null,
            filtroAtivo: 'todos',
            favoritos: JSON.parse(localStorage.getItem('favoritos')) || [],
            usuario: null
        };

        // Inicializa√ß√£o
        window.onload = function() {
            carregarCidades();
            carregarFiltros();
            carregarBairrosDestaque();
            carregarLojas();
            atualizarInfo();
        };

        function carregarCidades() {
            const container = document.getElementById('cidadesLista');
            container.innerHTML = dados.cidades.map(cidade => `
                <div class="cidade-item ${cidade.nome === estado.cidadeAtual ? 'active' : ''}" onclick="selecionarCidade('${cidade.nome}')">
                    <span class="cidade-nome">
                        <i class="fas fa-city"></i> ${cidade.nome}
                    </span>
                    <span class="cidade-count">${cidade.lojas} lojas</span>
                </div>
            `).join('');
            
            document.getElementById('totalLojasRegiao').textContent = 
                `${dados.lojas.length} lojas cadastradas`;
        }

        function carregarFiltros() {
            const container = document.getElementById('quickFilters');
            container.innerHTML = dados.filtros.map(filtro => `
                <div class="filter-chip ${filtro.id === estado.filtroAtivo ? 'active' : ''}" onclick="aplicarFiltro('${filtro.id}')">
                    <i class="fas fa-${filtro.icone}"></i> ${filtro.nome}
                </div>
            `).join('');
        }

        function carregarBairrosDestaque() {
            const bairros = dados.bairros[estado.cidadeAtual] || [];
            const destaques = bairros.filter(b => b.destaque).slice(0, 5);
            
            document.getElementById('bairrosDestaque').innerHTML = destaques.map(bairro => `
                <div class="bairro-card" onclick="selecionarBairro('${bairro.nome}')">
                    <div class="bairro-nome">${bairro.nome}</div>
                    <div class="bairro-stats">
                        <span><i class="fas fa-store"></i> ${bairro.lojas} lojas</span>
                        <span><i class="fas fa-fire" style="color: var(--accent);"></i> em alta</span>
                    </div>
                </div>
            `).join('');
        }

        function carregarLojas() {
            let lojasFiltradas = dados.lojas.filter(loja => loja.cidade === estado.cidadeAtual);
            
            if (estado.bairroAtual) {
                lojasFiltradas = lojasFiltradas.filter(loja => loja.bairro === estado.bairroAtual);
            }
            
            if (estado.filtroAtivo !== 'todos') {
                // Simular filtro por categoria
                lojasFiltradas = lojasFiltradas.filter((_, index) => index < 3);
            }
            
            document.getElementById('lojasContainer').innerHTML = lojasFiltradas.map(loja => `
                <div class="loja-card" onclick="abrirLoja(${loja.id})">
                    <div class="loja-cover">
                        <span class="loja-distancia"><i class="fas fa-walking"></i> ${loja.distancia}</span>
                        <div class="loja-favorite" onclick="event.stopPropagation(); toggleFavorito(${loja.id})">
                            <i class="fa${estado.favoritos.includes(loja.id) ? 's' : 'r'} fa-heart"></i>
                        </div>
                        ${loja.fotos ? loja.fotos[0] : 'üëï'}
                    </div>
                    <div class="loja-info">
                        <div class="loja-header">
                            <div class="loja-nome">${loja.nome}</div>
                            <span class="loja-bairro">${loja.bairro}</span>
                        </div>
                        <div class="loja-endereco">
                            <i class="fas fa-map-marker-alt" style="color: var(--primary);"></i>
                            ${loja.endereco} - ${loja.distancia}
                        </div>
                        <div class="loja-categoria">
                            ${loja.categorias.map(cat => `<span class="categoria-tag">${cat}</span>`).join('')}
                        </div>
                        <div class="loja-actions">
                            <div class="loja-status">
                                <span class="${loja.aberto ? 'status-aberto' : 'status-fechado'}">
                                    <i class="fas fa-circle" style="font-size: 8px;"></i>
                                    ${loja.aberto ? 'Aberto agora' : `Fecha √†s ${loja.horario.split('√†s')[1]}`}
                                </span>
                            </div>
                            <button class="contato-btn" onclick="event.stopPropagation(); contatoLoja(${loja.id})">
                                <i class="fab fa-whatsapp"></i>
                                Contato
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('tituloLojas').textContent = 
                estado.bairroAtual ? `Lojas no ${estado.bairroAtual}` : 'Lojas recomendadas';
        }

        function atualizarInfo() {
            document.getElementById('cidadeAtual').textContent = estado.cidadeAtual;
            document.getElementById('bairroAtual').innerHTML = `
                <i class="fas fa-map-pin"></i>
                <span>${estado.bairroAtual || 'Escolha um bairro'}</span>
            `;
            document.getElementById('breadcrumbCidade').textContent = estado.cidadeAtual;
            document.getElementById('breadcrumbBairro').textContent = estado.bairroAtual || 'Todos os bairros';
        }

        function selecionarCidade(cidade) {
            mostrarLoading('Mudando cidade...');
            
            setTimeout(() => {
                estado.cidadeAtual = cidade;
                estado.bairroAtual = null;
                
                carregarCidades();
                carregarBairrosDestaque();
                carregarLojas();
                atualizarInfo();
                
                document.getElementById('telaBoasVindas').classList.add('hidden');
                document.getElementById('telaLojas').classList.remove('hidden');
                
                esconderLoading();
                
                mostrarToast(`Bem-vindo a ${cidade}!`, 'success');
            }, 500);
        }

        function selecionarBairro(bairro) {
            mostrarLoading(`Buscando lojas no ${bairro}...`);
            
            setTimeout(() => {
                estado.bairroAtual = bairro;
                carregarLojas();
                atualizarInfo();
                esconderLoading();
            }, 500);
        }

        function abrirLoja(id) {
            mostrarLoading('Carregando loja...');
            
            setTimeout(() => {
                const loja = dados.lojas.find(l => l.id === id);
                estado.lojaAtual = loja;
                
                const container = document.getElementById('perfilLojaContainer');
                container.innerHTML = gerarPerfilLoja(loja);
                
                document.getElementById('telaLojas').classList.add('hidden');
                document.getElementById('telaPerfilLoja').classList.remove('hidden');
                
                esconderLoading();
            }, 300);
        }

        function gerarPerfilLoja(loja) {
            return `
                <div class="perfil-header">
                    <div class="perfil-foto">${loja.fotos ? loja.fotos[0] : 'üëï'}</div>
                    <div class="perfil-info">
                        <div class="perfil-nome">${loja.nome}</div>
                        <div class="perfil-local">
                            <i class="fas fa-map-marker-alt" style="color: var(--primary);"></i>
                            <span>${loja.bairro}, ${loja.cidade}</span>
                        </div>
                    </div>
                </div>
                
                <div class="perfil-body">
                    <!-- Informa√ß√µes R√°pidas -->
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Hor√°rio</span>
                            <span class="info-value"><i class="far fa-clock"></i> ${loja.horario}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Status</span>
                            <span class="info-value ${loja.aberto ? 'status-aberto' : 'status-fechado'}">
                                <i class="fas fa-circle" style="font-size: 8px;"></i>
                                ${loja.aberto ? 'Aberto agora' : 'Fechado'}
                            </span>
                        </div>
                    </div>
                    
                    <!-- Avalia√ß√µes -->
                    <div class="perfil-section">
                        <div class="section-title">
                            <i class="fas fa-star" style="color: var(--warning);"></i>
                            Avalia√ß√µes
                        </div>
                        <div class="avaliacoes-resumo">
                            <div class="avaliacao-media">
                                <div class="avaliacao-numero">${loja.avaliacao}</div>
                                <div class="avaliacao-estrelas">
                                    ${'‚òÖ'.repeat(Math.floor(loja.avaliacao))}${loja.avaliacao % 1 ? '¬Ω' : ''}
                                </div>
                                <div class="avaliacao-total">${loja.totalAvaliacoes} avalia√ß√µes</div>
                            </div>
                            <div style="flex: 1;">
                                <p style="color: var(--text-secondary); font-size: 14px;">Excelente! A maioria dos clientes recomenda esta loja.</p>
                            </div>
                        </div>
                        
                        <div class="comentario-item">
                            <div class="comentario-header">
                                <span class="comentario-usuario">Maria Silva</span>
                                <span class="comentario-nota">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            </div>
                            <div class="comentario-texto">√ìtimo atendimento! Roupas de qualidade e pre√ßo justo. Voltarei mais vezes!</div>
                            <div class="comentario-data">H√° 2 dias</div>
                        </div>
                        
                        <div class="comentario-item">
                            <div class="comentario-header">
                                <span class="comentario-usuario">Jo√£o Pedro</span>
                                <span class="comentario-nota">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                            </div>
                            <div class="comentario-texto">Loja bem organizada, variedade boa. S√≥ achei o estacionamento um pouco complicado.</div>
                            <div class="comentario-data">H√° 5 dias</div>
                        </div>
                    </div>
                    
                    <!-- Contato -->
                    <div class="perfil-section">
                        <div class="section-title">
                            <i class="fas fa-phone-alt" style="color: var(--secondary);"></i>
                            Contato
                        </div>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Endere√ßo</span>
                                <span class="info-value"><i class="fas fa-map-pin"></i> ${loja.endereco}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Telefone</span>
                                <span class="info-value"><i class="fas fa-phone"></i> ${loja.telefone}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">WhatsApp</span>
                                <span class="info-value"><i class="fab fa-whatsapp" style="color: var(--success);"></i> ${loja.whatsapp}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Instagram</span>
                                <span class="info-value"><i class="fab fa-instagram" style="color: #E4405F;"></i> ${loja.instagram}</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Categorias -->
                    <div class="perfil-section">
                        <div class="section-title">
                            <i class="fas fa-tags" style="color: var(--primary);"></i>
                            Categorias
                        </div>
                        <div class="categorias-list">
                            ${loja.categorias.map(cat => `<span class="categoria-item">${cat}</span>`).join('')}
                        </div>
                    </div>
                    
                    <!-- Fotos -->
                    ${loja.fotos ? `
                        <div class="perfil-section">
                            <div class="section-title">
                                <i class="fas fa-camera" style="color: var(--primary);"></i>
                                Fotos da loja
                            </div>
                            <div class="instagram-feed">
                                ${loja.fotos.map(foto => `
                                    <div class="instagram-post">${foto}</div>
                                `).join('')}
                                <div class="instagram-post">‚ûï</div>
                            </div>
                        </div>
                    ` : ''}
                    
                    <!-- Bot√µes de Contato -->
                    <div class="contato-acoes">
                        <button class="btn-contato btn-whatsapp" onclick="abrirWhatsapp('${loja.whatsapp}')">
                            <i class="fab fa-whatsapp"></i>
                            WhatsApp
                        </button>
                        <button class="btn-contato btn-telefone" onclick="ligar('${loja.telefone}')">
                            <i class="fas fa-phone-alt"></i>
                            Ligar
                        </button>
                    </div>
                </div>
            `;
        }

        function voltarParaLojas() {
            document.getElementById('telaPerfilLoja').classList.add('hidden');
            document.getElementById('telaLojas').classList.remove('hidden');
        }

        function voltarBoasVindas() {
            document.getElementById('telaLojas').classList.add('hidden');
            document.getElementById('telaBoasVindas').classList.remove('hidden');
        }

        function comecarExplorar() {
            mostrarLoading('Carregando...');
            setTimeout(() => {
                document.getElementById('telaBoasVindas').classList.add('hidden');
                document.getElementById('telaLojas').classList.remove('hidden');
                esconderLoading();
            }, 500);
        }

        function aplicarFiltro(filtro) {
            estado.filtroAtivo = filtro;
            carregarFiltros();
            carregarLojas();
            
            const nomes = {
                'todos': 'Todos os produtos',
                'feminino': 'Moda Feminina',
                'masculino': 'Moda Masculina',
                'infantil': 'Moda Infantil',
                'plus': 'Plus Size',
                'street': 'Streetwear',
                'brecho': 'Brech√≥s'
            };
            
            mostrarToast(`Filtrando por: ${nomes[filtro]}`, 'success');
        }

        function ordenarLojas(ordem) {
            mostrarToast(`Ordenando por ${ordem}`, 'success');
        }

        function toggleFavorito(id) {
            const index = estado.favoritos.indexOf(id);
            if (index === -1) {
                estado.favoritos.push(id);
                mostrarToast('‚ù§Ô∏è Loja adicionada aos favoritos!', 'success');
            } else {
                estado.favoritos.splice(index, 1);
                mostrarToast('Loja removida dos favoritos', 'success');
            }
            localStorage.setItem('favoritos', JSON.stringify(estado.favoritos));
            carregarLojas(); // Atualizar √≠cones
        }

        function contatoLoja(id) {
            const loja = dados.lojas.find(l => l.id === id);
            if (confirm(`Deseja entrar em contato com ${loja.nome} pelo WhatsApp?`)) {
                abrirWhatsapp(loja.whatsapp);
            }
        }

        function abrirWhatsapp(numero) {
            const numeroLimpo = numero.replace(/\D/g, '');
            window.open(`https://wa.me/55${numeroLimpo}`, '_blank');
        }

        function ligar(numero) {
            const numeroLimpo = numero.replace(/\D/g, '');
            window.location.href = `tel:+55${numeroLimpo}`;
        }

        function verTodosBairros() {
            mostrarToast('Lista completa de bairros em breve!', 'success');
        }

        function fazerLogin() {
            document.getElementById('loginModal').classList.add('active');
        }

        function fecharModal() {
            document.getElementById('loginModal').classList.remove('active');
        }

        function loginGoogle() {
            mostrarToast('Login realizado com sucesso!', 'success');
            setTimeout(() => {
                fecharModal();
                estado.usuario = { nome: 'Usu√°rio' };
            }, 1000);
        }

        function mostrarLoading(mensagem) {
            document.getElementById('loading').classList.remove('hidden');
            document.querySelector('#loading p').textContent = mensagem;
        }

        function esconderLoading() {
            document.getElementById('loading').classList.add('hidden');
        }

        function mostrarToast(mensagem, tipo = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = mensagem;
            toast.className = `toast ${tipo} show`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Busca em tempo real
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const termo = e.target.value.toLowerCase();
            if (termo.length > 2) {
                const resultados = dados.lojas.filter(loja => 
                    loja.nome.toLowerCase().includes(termo) ||
                    loja.bairro.toLowerCase().includes(termo) ||
                    loja.categorias.some(cat => cat.toLowerCase().includes(termo))
                );
                
                if (resultados.length > 0) {
                    mostrarToast(`Encontramos ${resultados.length} resultados`, 'success');
                }
            }
        });
    </script>
</body>
</html>
