<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>RIMSO Piracicaba - Lojas do Seu Bairro</title>
    
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <!-- Google Maps -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&libraries=places"></script>
    <!-- Swiper para carrosséis -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- AOS para animações -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        :root {
            /* Cores da bandeira da alemanha */
            --black: #000000;
            --red: #DD0000;
            --gold: #FFCE00;
            --gold-light: #FFE55C;
            --red-dark: #AA0000;
            
            /* Cores derivadas */
            --dark: var(--black);
            --dark-light: #1A1A1A;
            --gray: #6B7280;
            --light: #F9FAFB;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: var(--red);
            --border: #E5E7EB;
            --gradient: linear-gradient(145deg, var(--red), var(--gold));
            
            /* Modo claro */
            --bg-primary: #FFFFFF;
            --bg-secondary: #F9FAFB;
            --text-primary: #1A1A1A;
            --text-secondary: #4A4A4A;
            --card-bg: #FFFFFF;
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Modo escuro */
        [data-theme="dark"] {
            --bg-primary: #1A1A1A;
            --bg-secondary: #2D2D2D;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --card-bg: #2D2D2D;
            --border: #404040;
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.3);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.3);
        }

        body {
            background: linear-gradient(135deg, var(--black) 0%, var(--red-dark) 100%);
            min-height: 100vh;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        }

        /* Animações */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        /* Container Principal */
        .dashboard {
            max-width: 1600px;
            margin: 0 auto;
            background: var(--bg-primary);
            border-radius: 40px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 95vh;
            border: 3px solid var(--gold);
            transition: background-color 0.3s;
            animation: fadeIn 0.5s ease;
        }

        /* Sidebar */
        .sidebar {
            background: var(--black);
            color: white;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            border-right: 3px solid var(--gold);
            transition: background-color 0.3s;
            animation: slideIn 0.5s ease;
        }

        .logo-area {
            padding: 0 10px 30px 10px;
            border-bottom: 2px solid var(--gold);
            margin-bottom: 30px;
            text-align: center;
        }

        .logo {
            font-size: 32px;
            font-weight: 800;
            color: white;
            margin-bottom: 8px;
            letter-spacing: 2px;
            position: relative;
            display: inline-block;
        }

        .logo::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--gradient);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .logo:hover::after {
            transform: scaleX(1);
        }

        .logo span {
            color: var(--red);
        }

        .logo-tagline {
            color: var(--gold);
            font-size: 12px;
            letter-spacing: 1px;
        }

        /* Sistema de Login */
        .user-info-sidebar {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--gold);
            cursor: pointer;
            transition: var(--transition);
        }

        .user-info-sidebar:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .user-login-status {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar-sidebar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 20px;
            color: var(--black);
            transition: var(--transition);
        }

        .user-info-sidebar:hover .user-avatar-sidebar {
            transform: scale(1.1);
        }

        .user-details-sidebar h4 {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 2px;
        }

        .user-details-sidebar p {
            font-weight: 600;
            font-size: 16px;
            color: white;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border-radius: 16px;
            color: #94a3b8;
            margin-bottom: 5px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .menu-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 3px;
            background: var(--gradient);
            transform: scaleY(0);
            transition: transform 0.3s;
        }

        .menu-item:hover::before {
            transform: scaleY(1);
        }

        .menu-item i {
            width: 24px;
            font-size: 20px;
            transition: var(--transition);
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--gold);
            padding-left: 25px;
        }

        .menu-item:hover i {
            transform: scale(1.1);
            color: var(--gold);
        }

        .menu-item.active {
            background: var(--red);
            color: white;
        }

        .menu-item.active i {
            color: white;
        }

        .menu-item.active::before {
            transform: scaleY(1);
            background: white;
        }

        .menu-divider {
            height: 2px;
            background: linear-gradient(90deg, var(--red), var(--gold), var(--red));
            margin: 20px 0;
        }

        /* Bairros na Sidebar */
        .bairros-sidebar {
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
            margin-top: 20px;
        }

        .bairros-sidebar::-webkit-scrollbar {
            width: 5px;
        }

        .bairros-sidebar::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }

        .bairros-sidebar::-webkit-scrollbar-thumb {
            background: var(--gradient);
            border-radius: 10px;
        }

        .bairro-sidebar-item {
            padding: 8px 12px;
            margin: 4px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
            color: #94a3b8;
        }

        .bairro-sidebar-item:hover {
            background: rgba(255,255,255,0.1);
            color: var(--gold);
            transform: translateX(5px);
        }

        .bairro-sidebar-item.active {
            background: var(--red);
            color: white;
        }

        /* Main Content */
        .main-content {
            background: var(--bg-primary);
            overflow-y: auto;
            max-height: 95vh;
            transition: background-color 0.3s;
        }

        /* Top Bar */
        .top-bar {
            padding: 20px 30px;
            background: var(--bg-primary);
            border-bottom: 3px solid var(--gold);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            background: rgba(var(--bg-primary), 0.9);
            transition: background-color 0.3s;
        }

        .page-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            animation: fadeIn 0.5s ease;
        }

        .page-title span {
            color: var(--red);
            font-size: 14px;
            font-weight: 400;
            margin-left: 10px;
        }

        .top-actions {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        /* Sistema de Busca em Tempo Real */
        .search-box {
            background: var(--bg-secondary);
            border-radius: 60px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            width: 300px;
            border: 2px solid transparent;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .search-box::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .search-box:focus-within::after {
            left: 100%;
        }

        .search-box:focus-within {
            border-color: var(--red);
            box-shadow: 0 0 0 3px rgba(221, 0, 0, 0.1);
            transform: scale(1.02);
        }

        .search-box input {
            background: transparent;
            border: none;
            flex: 1;
            font-size: 14px;
            outline: none;
            color: var(--text-primary);
        }

        .search-box input::placeholder {
            color: var(--text-secondary);
        }

        .search-results {
            position: absolute;
            top: 70px;
            right: 30px;
            width: 300px;
            background: var(--card-bg);
            border-radius: 20px;
            border: 2px solid var(--border);
            box-shadow: var(--shadow-lg);
            display: none;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .search-results.show {
            display: block;
        }

        .search-result-item {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: background 0.2s;
            animation: fadeIn 0.3s ease;
        }

        .search-result-item:hover {
            background: var(--bg-secondary);
            transform: translateX(5px);
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .notification-badge {
            position: relative;
            cursor: pointer;
            transition: var(--transition);
        }

        .notification-badge:hover {
            transform: scale(1.1);
        }

        .notification-badge i {
            font-size: 24px;
            color: var(--text-primary);
            transition: var(--transition);
        }

        .notification-badge:hover i {
            color: var(--red);
        }

        .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--red);
            color: white;
            font-size: 10px;
            padding: 2px 5px;
            border-radius: 60px;
            animation: pulse 2s infinite;
        }

        /* Toggle Modo Escuro */
        .theme-toggle {
            cursor: pointer;
            font-size: 20px;
            color: var(--text-primary);
            padding: 8px;
            border-radius: 50%;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background: var(--bg-secondary);
            transform: rotate(180deg);
        }

        /* Content Area */
        .content-area {
            padding: 30px;
        }

        .secao {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .secao.ativa {
            display: block;
        }

        /* Loading */
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1000;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--border);
            border-top: 4px solid var(--red);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        .hidden {
            display: none !important;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 25px;
            box-shadow: var(--shadow);
            border: 2px solid var(--border);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.5s ease;
            animation-fill-mode: both;
        }

        .stat-card:nth-child(1) { animation-delay: 0.1s; }
        .stat-card:nth-child(2) { animation-delay: 0.2s; }
        .stat-card:nth-child(3) { animation-delay: 0.3s; }
        .stat-card:nth-child(4) { animation-delay: 0.4s; }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .stat-card:hover::before {
            transform: scaleX(1);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--gold);
            box-shadow: var(--shadow-lg);
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 16px;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--black);
            font-size: 24px;
            margin-bottom: 15px;
            transition: var(--transition);
        }

        .stat-card:hover .stat-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .stat-change {
            color: var(--red);
            font-size: 14px;
            font-weight: 600;
        }

        /* Charts */
        .charts-row {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 25px;
            border: 2px solid var(--border);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .chart-actions {
            display: flex;
            gap: 10px;
        }

        .chart-action {
            padding: 8px 16px;
            border-radius: 60px;
            background: var(--bg-secondary);
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
            transition: var(--transition);
        }

        .chart-action:hover {
            background: var(--gold);
            color: var(--black);
        }

        .chart-action.active {
            background: var(--red);
            color: white;
        }

        .chart-container {
            height: 300px;
        }

        /* Welcome Section */
        .welcome-section {
            text-align: center;
            padding: 40px;
            background: var(--gradient);
            border-radius: 40px;
            margin-bottom: 30px;
            color: var(--black);
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.5s ease;
        }

        .welcome-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s infinite;
        }

        .welcome-section h1 {
            font-size: 36px;
            margin-bottom: 10px;
            position: relative;
        }

        .welcome-section p {
            font-size: 18px;
            opacity: 0.9;
            position: relative;
        }

        /* Quick Access */
        .quick-access {
            margin-bottom: 40px;
        }

        .quick-access h2 {
            color: var(--text-primary);
            margin-bottom: 20px;
            font-size: 24px;
        }

        .bairros-destaque-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .bairro-destaque-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
            animation: fadeIn 0.5s ease;
        }

        .bairro-destaque-card:hover {
            border-color: var(--gold);
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        .bairro-destaque-card h3 {
            color: var(--text-primary);
            margin-bottom: 5px;
            font-size: 18px;
        }

        .bairro-destaque-card p {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 10px;
        }

        .bairro-destaque-card .badge {
            position: static;
            display: inline-block;
            padding: 4px 10px;
            background: var(--gradient);
            color: var(--black);
        }

        /* Info Cards */
        .info-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .info-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 30px;
            text-align: center;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
            animation: fadeIn 0.5s ease;
            animation-delay: 0.2s;
            animation-fill-mode: both;
        }

        .info-card:hover {
            border-color: var(--gold);
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .info-card i {
            font-size: 48px;
            color: var(--red);
            margin-bottom: 15px;
            transition: var(--transition);
        }

        .info-card:hover i {
            transform: scale(1.2) rotate(5deg);
            color: var(--gold);
        }

        .info-card h3 {
            color: var(--text-primary);
            margin-bottom: 10px;
            font-size: 20px;
        }

        .info-card p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Bairros Lista */
        .bairros-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .bairros-search {
            margin: 20px 0;
        }

        .search-bairro {
            width: 100%;
            padding: 15px 20px;
            border-radius: 60px;
            border: 2px solid var(--border);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 16px;
            transition: var(--transition);
        }

        .search-bairro:focus {
            border-color: var(--red);
            outline: none;
            box-shadow: 0 0 0 3px rgba(221, 0, 0, 0.1);
        }

        .bairros-lista-completa {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .bairro-lista-item {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .bairro-lista-item:hover {
            border-color: var(--gold);
            transform: translateX(5px);
            background: var(--gradient);
            color: var(--black);
        }

        .bairro-lista-item:hover .bairro-nome,
        .bairro-lista-item:hover .bairro-contagem {
            color: var(--black);
        }

        .bairro-nome {
            font-weight: 600;
            color: var(--text-primary);
        }

        .bairro-contagem {
            color: var(--text-secondary);
            font-size: 14px;
            padding: 4px 10px;
            background: var(--bg-secondary);
            border-radius: 60px;
        }

        .bairro-lista-item:hover .bairro-contagem {
            background: rgba(0,0,0,0.1);
        }

        /* Lojas Header */
        .lojas-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .lojas-header h1 {
            color: var(--text-primary);
            font-size: 28px;
        }

        .lojas-header h1 span {
            color: var(--red);
        }

        .lojas-filtros {
            display: flex;
            gap: 10px;
        }

        .filter-select {
            padding: 10px 20px;
            border-radius: 60px;
            border: 2px solid var(--border);
            background: var(--bg-secondary);
            color: var(--text-primary);
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-select:hover {
            border-color: var(--red);
        }

        /* Lojas Grid */
        .lojas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .loja-card {
            background: var(--card-bg);
            border-radius: 24px;
            overflow: hidden;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
            animation: fadeIn 0.5s ease;
        }

        .loja-card:hover {
            border-color: var(--gold);
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        .loja-cover {
            height: 150px;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            position: relative;
            overflow: hidden;
        }

        .loja-cover::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s infinite;
        }

        .loja-info {
            padding: 20px;
        }

        .loja-nome {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .loja-bairro {
            color: var(--red);
            font-size: 14px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .loja-categoria {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .categoria-tag {
            background: var(--bg-secondary);
            padding: 4px 12px;
            border-radius: 60px;
            font-size: 12px;
            color: var(--text-secondary);
            transition: var(--transition);
        }

        .loja-card:hover .categoria-tag {
            background: var(--gold);
            color: var(--black);
        }

        .loja-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 2px solid var(--border);
            padding-top: 15px;
        }

        .loja-avaliacao {
            color: var(--gold);
        }

        .loja-contato {
            background: transparent;
            border: 2px solid var(--red);
            color: var(--red);
            padding: 6px 16px;
            border-radius: 60px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .loja-contato:hover {
            background: var(--red);
            color: white;
            transform: scale(1.05);
        }

        /* Página da Loja Detalhada */
        .loja-detalhes {
            max-width: 1200px;
            margin: 0 auto;
        }

        .loja-detalhes-header {
            position: relative;
            height: 300px;
            border-radius: 32px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .loja-detalhes-cover {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .loja-detalhes-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 30px;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: white;
        }

        .loja-detalhes-nome {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .loja-detalhes-meta {
            display: flex;
            gap: 20px;
            font-size: 16px;
        }

        .loja-detalhes-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        .loja-detalhes-section {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 30px;
            border: 2px solid var(--border);
            margin-bottom: 20px;
        }

        .loja-detalhes-section h2 {
            color: var(--text-primary);
            margin-bottom: 20px;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .loja-detalhes-section h2 i {
            color: var(--red);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-secondary);
        }

        .info-item i {
            width: 20px;
            color: var(--red);
        }

        .info-item strong {
            color: var(--text-primary);
            margin-right: 5px;
        }

        .categorias-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .categoria-item {
            background: var(--bg-secondary);
            padding: 8px 16px;
            border-radius: 60px;
            font-size: 14px;
            color: var(--text-secondary);
        }

        /* Galeria de Fotos */
        .galeria-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .galeria-item {
            aspect-ratio: 1;
            background: var(--bg-secondary);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
        }

        .galeria-item:hover {
            border-color: var(--gold);
            transform: scale(1.05);
        }

        /* Sistema de Avaliações */
        .avaliacoes-resumo {
            display: flex;
            align-items: center;
            gap: 30px;
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .avaliacao-media {
            text-align: center;
        }

        .avaliacao-numero {
            font-size: 48px;
            font-weight: 800;
            color: var(--red);
            line-height: 1;
        }

        .avaliacao-estrelas {
            color: var(--gold);
            font-size: 18px;
            margin: 5px 0;
        }

        .avaliacao-total {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .avaliacao-grafico-barras {
            flex: 1;
        }

        .barra-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 5px 0;
        }

        .barra-label {
            width: 30px;
            color: var(--text-secondary);
        }

        .barra {
            flex: 1;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
        }

        .barra-preenchimento {
            height: 100%;
            background: var(--gold);
            border-radius: 4px;
        }

        .avaliacao-item {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .avaliacao-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .avaliacao-usuario {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .avaliacao-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--black);
            font-weight: 700;
        }

        .avaliacao-nome {
            font-weight: 600;
            color: var(--text-primary);
        }

        .avaliacao-data {
            color: var(--text-secondary);
            font-size: 12px;
        }

        .avaliacao-nota {
            color: var(--gold);
        }

        .avaliacao-comentario {
            color: var(--text-secondary);
            margin: 10px 0;
            line-height: 1.6;
        }

        .avaliacao-fotos {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .avaliacao-foto {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            background: var(--card-bg);
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .avaliacao-foto:hover {
            border-color: var(--gold);
            transform: scale(1.05);
        }

        .btn-avaliar {
            width: 100%;
            padding: 15px;
            background: var(--red);
            color: white;
            border: none;
            border-radius: 60px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 20px;
        }

        .btn-avaliar:hover {
            background: var(--red-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Planos */
        .plans-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 40px 0;
        }

        .plan-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 30px;
            border: 2px solid var(--border);
            position: relative;
            transition: var(--transition);
            animation: fadeIn 0.5s ease;
            animation-fill-mode: both;
        }

        .plan-card:nth-child(1) { animation-delay: 0.1s; }
        .plan-card:nth-child(2) { animation-delay: 0.2s; }
        .plan-card:nth-child(3) { animation-delay: 0.3s; }

        .plan-card:hover {
            border-color: var(--gold);
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .plan-card.popular {
            border: 3px solid var(--gold);
            transform: scale(1.05);
            z-index: 2;
        }

        .plan-card.popular:hover {
            transform: scale(1.05) translateY(-10px);
        }

        .plan-badge {
            position: absolute;
            top: -12px;
            right: 20px;
            background: var(--gradient);
            color: var(--black);
            padding: 6px 16px;
            border-radius: 60px;
            font-size: 12px;
            font-weight: 700;
            border: 2px solid var(--gold);
            animation: pulse 2s infinite;
        }

        .plan-name {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .plan-price {
            font-size: 48px;
            font-weight: 800;
            color: var(--red);
            margin-bottom: 20px;
        }

        .plan-price span {
            font-size: 16px;
            color: var(--text-secondary);
            font-weight: 400;
        }

        .plan-features {
            list-style: none;
            margin-bottom: 30px;
        }

        .plan-features li {
            padding: 10px 0;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .plan-features i.fa-check {
            color: var(--success);
        }

        .plan-features i.fa-times {
            color: var(--danger);
        }

        .plan-btn {
            width: 100%;
            padding: 16px;
            border-radius: 60px;
            border: 2px solid var(--red);
            background: transparent;
            color: var(--red);
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
        }

        .plan-btn:hover {
            background: var(--red);
            color: white;
            transform: scale(1.02);
        }

        .plan-card.popular .plan-btn {
            background: var(--red);
            color: white;
        }

        .plan-card.popular .plan-btn:hover {
            background: var(--gold);
            color: var(--black);
            border-color: var(--gold);
        }

        .planos-info {
            text-align: center;
            padding: 20px;
            background: var(--bg-secondary);
            border-radius: 60px;
            color: var(--text-secondary);
            animation: fadeIn 0.5s ease;
            animation-delay: 0.4s;
            animation-fill-mode: both;
        }

        /* Cadastro */
        .cadastro-tipos {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-top: 40px;
        }

        .cadastro-card {
            background: var(--card-bg);
            border-radius: 32px;
            padding: 40px;
            text-align: center;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
            animation: fadeIn 0.5s ease;
        }

        .cadastro-card:hover {
            border-color: var(--gold);
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .cadastro-card i {
            font-size: 64px;
            color: var(--red);
            margin-bottom: 20px;
            transition: var(--transition);
        }

        .cadastro-card:hover i {
            transform: scale(1.2) rotate(5deg);
            color: var(--gold);
        }

        .cadastro-card h3 {
            font-size: 28px;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .cadastro-card p {
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .cadastro-card ul {
            list-style: none;
            text-align: left;
            margin: 20px 0;
            padding: 0 20px;
        }

        .cadastro-card ul li {
            padding: 8px 0;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cadastro-card ul li::before {
            content: '✓';
            color: var(--success);
            font-weight: 700;
        }

        /* Sobre */
        .sobre-content {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 40px 0;
        }

        .sobre-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 30px;
            text-align: center;
            border: 2px solid var(--border);
            transition: var(--transition);
            animation: fadeIn 0.5s ease;
        }

        .sobre-card:hover {
            border-color: var(--gold);
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .sobre-card i {
            font-size: 48px;
            color: var(--red);
            margin-bottom: 20px;
            transition: var(--transition);
        }

        .sobre-card:hover i {
            transform: scale(1.2);
            color: var(--gold);
        }

        .sobre-card h3 {
            color: var(--text-primary);
            margin-bottom: 15px;
        }

        .sobre-card p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .estatisticas-cidade {
            text-align: center;
            margin-top: 40px;
        }

        .estatisticas-cidade h2 {
            color: var(--text-primary);
            margin-bottom: 20px;
        }

        /* Mapa */
        .mapa-controles {
            margin: 20px 0;
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .map-container {
            height: 500px;
            border-radius: 24px;
            overflow: hidden;
            border: 2px solid var(--border);
            margin-bottom: 30px;
            position: relative;
        }

        #map {
            height: 100%;
            width: 100%;
            z-index: 1;
        }

        .lojas-proximas {
            margin-top: 30px;
        }

        .lojas-grid-mini {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 32px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            border: 3px solid var(--gold);
            animation: slideIn 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .modal-close {
            font-size: 24px;
            cursor: pointer;
            color: var(--text-secondary);
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--red);
            transform: scale(1.2);
        }

        .modal-body {
            margin-bottom: 30px;
        }

        .modal-opcoes {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .modal-divider {
            text-align: center;
            margin: 20px 0;
            position: relative;
            color: var(--text-secondary);
        }

        .modal-divider::before,
        .modal-divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 45%;
            height: 1px;
            background: var(--border);
        }

        .modal-divider::before {
            left: 0;
        }

        .modal-divider::after {
            right: 0;
        }

        .modal-cadastro {
            text-align: center;
            color: var(--text-secondary);
        }

        .modal-cadastro a {
            color: var(--red);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
        }

        .modal-cadastro a:hover {
            color: var(--gold);
        }

        /* Formulários */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 14px;
            transition: var(--transition);
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            border-color: var(--red);
            outline: none;
            box-shadow: 0 0 0 3px rgba(221, 0, 0, 0.1);
            transform: scale(1.02);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Botões */
        .btn {
            padding: 12px 24px;
            border-radius: 60px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--red);
            color: white;
        }

        .btn-primary:hover {
            background: var(--red-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn-secondary {
            background: var(--gold);
            color: var(--black);
        }

        .btn-secondary:hover {
            background: var(--gold-light);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--red);
            color: var(--red);
        }

        .btn-outline:hover {
            background: var(--red);
            color: white;
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--card-bg);
            color: var(--text-primary);
            padding: 15px 25px;
            border-radius: 60px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: var(--transition);
            border: 2px solid var(--gold);
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.success {
            border-color: var(--success);
        }

        .toast.error {
            border-color: var(--danger);
        }

        /* Responsividade */
        @media (max-width: 1200px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .charts-row {
                grid-template-columns: 1fr;
            }
            
            .plans-grid {
                grid-template-columns: 1fr;
            }
            
            .info-cards {
                grid-template-columns: 1fr;
            }
            
            .cadastro-tipos {
                grid-template-columns: 1fr;
            }
            
            .sobre-content {
                grid-template-columns: 1fr;
            }
            
            .loja-detalhes-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
            
            .top-bar {
                flex-direction: column;
                gap: 15px;
            }
            
            .search-box {
                width: 100%;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .lojas-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .lojas-filtros {
                width: 100%;
                flex-direction: column;
            }
            
            .avaliacoes-resumo {
                flex-direction: column;
                text-align: center;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard" id="dashboard">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo-area">
                <div class="logo">RIM<span>SO</span></div>
                <div class="logo-tagline">Piracicaba - SP</div>
            </div>

            <!-- Sistema de Login -->
            <div class="user-info-sidebar" id="userInfoSidebar" onclick="abrirModalLogin()">
                <div class="user-login-status">
                    <div class="user-avatar-sidebar" id="userAvatarSidebar">
                        <i class="far fa-user"></i>
                    </div>
                    <div class="user-details-sidebar" id="userDetailsSidebar">
                        <h4>Bem-vindo(a)</h4>
                        <p>Faça seu cadastro</p>
                    </div>
                </div>
            </div>

            <!-- Menu Principal -->
            <div class="menu-item active" onclick="mudarSecao('inicio')">
                <i class="fas fa-home"></i>
                <span>Início</span>
            </div>
            <div class="menu-item" onclick="mudarSecao('bairros')">
                <i class="fas fa-map"></i>
                <span>Bairros</span>
            </div>
            <div class="menu-item" onclick="mudarSecao('lojas')">
                <i class="fas fa-store"></i>
                <span>Lojas</span>
            </div>
            <div class="menu-item" onclick="mudarSecao('planos')">
                <i class="fas fa-credit-card"></i>
                <span>Planos</span>
            </div>
            <div class="menu-item" onclick="mudarSecao('cadastro')">
                <i class="fas fa-user-plus"></i>
                <span>Cadastre-se</span>
            </div>
            
            <div class="menu-divider"></div>
            
            <div class="menu-item" onclick="mudarSecao('mapa')">
                <i class="fas fa-map-marked-alt"></i>
                <span>Mapa da Cidade</span>
            </div>
            <div class="menu-item" onclick="mudarSecao('sobre')">
                <i class="fas fa-info-circle"></i>
                <span>Sobre o RIMSO</span>
            </div>

            <!-- Lista de Bairros -->
            <div class="bairros-sidebar" id="bairrosSidebar">
                <h4 style="color: white; margin-bottom: 15px; padding: 0 10px;">Bairros de Piracicaba</h4>
                <!-- Preenchido via JS -->
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="page-title" id="pageTitle">
                    RIMSO Piracicaba
                    <span>conectando você às lojas do seu bairro</span>
                </div>
                <div class="top-actions">
                    <!-- Busca em Tempo Real -->
                    <div style="position: relative;">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Buscar lojas, bairros..." id="searchInput" oninput="buscarTermo(this.value)">
                        </div>
                        <div class="search-results" id="searchResults"></div>
                    </div>
                    
                    <!-- Notificações -->
                    <div class="notification-badge" onclick="abrirNotificacoes()">
                        <i class="far fa-bell"></i>
                        <span class="badge" id="notificationBadge">3</span>
                    </div>
                    
                    <!-- Toggle Modo Escuro -->
                    <div class="theme-toggle" onclick="toggleTema()" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area" id="contentArea">
                <!-- Loading -->
                <div id="loading" class="hidden">
                    <div class="loading-spinner"></div>
                    <p>Carregando...</p>
                </div>

                <!-- Seção Início -->
                <div id="secaoInicio" class="secao ativa">
                    <div class="welcome-section" data-aos="fade-up">
                        <h1>Bem-vindo ao RIMSO Piracicaba! 🏪</h1>
                        <p>Descubra as melhores lojas perto de você em cada bairro da cidade</p>
                    </div>

                    <!-- Dashboard Dinâmico -->
                    <div class="stats-grid" data-aos="fade-up" data-aos-delay="100">
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-store"></i></div>
                            <div class="stat-value" id="statsLojas">156</div>
                            <div class="stat-label">Lojas cadastradas</div>
                            <div class="stat-change">+12% este mês</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-users"></i></div>
                            <div class="stat-value" id="statsUsuarios">1.247</div>
                            <div class="stat-label">Usuários ativos</div>
                            <div class="stat-change">+23% este mês</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-map-marker-alt"></i></div>
                            <div class="stat-value" id="statsBairros">156</div>
                            <div class="stat-label">Bairros</div>
                            <div class="stat-change">Cobertura total</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-star"></i></div>
                            <div class="stat-value" id="statsAvaliacoes">4.8</div>
                            <div class="stat-label">Avaliação média</div>
                            <div class="stat-change">+0.3 este mês</div>
                        </div>
                    </div>

                    <!-- Gráficos -->
                    <div class="charts-row" data-aos="fade-up" data-aos-delay="200">
                        <div class="chart-card">
                            <div class="chart-header">
                                <span class="chart-title">Lojas por Bairro</span>
                                <div class="chart-actions">
                                    <span class="chart-action active">Semana</span>
                                    <span class="chart-action">Mês</span>
                                    <span class="chart-action">Ano</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="lojasBairroChart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <div class="chart-header">
                                <span class="chart-title">Categorias mais procuradas</span>
                            </div>
                            <div class="chart-container">
                                <canvas id="categoriasChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Bairros em Destaque -->
                    <div class="quick-access" data-aos="fade-up" data-aos-delay="300">
                        <h2>Bairros em Destaque</h2>
                        <div class="bairros-destaque-grid" id="bairrosDestaque">
                            <!-- Preenchido via JS -->
                        </div>
                    </div>

                    <!-- Cards de Ação -->
                    <div class="info-cards" data-aos="fade-up" data-aos-delay="400">
                        <div class="info-card" onclick="mudarSecao('cadastro')">
                            <i class="fas fa-user-plus"></i>
                            <h3>Cadastre-se grátis</h3>
                            <p>Crie sua conta como cliente e favorite suas lojas</p>
                        </div>
                        <div class="info-card" onclick="mudarSecao('planos')">
                            <i class="fas fa-store-alt"></i>
                            <h3>Anuncie sua loja</h3>
                            <p>Planos a partir de R$49/mês para lojistas</p>
                        </div>
                        <div class="info-card" onclick="mudarSecao('mapa')">
                            <i class="fas fa-map-marked-alt"></i>
                            <h3>Explore no mapa</h3>
                            <p>Veja as lojas próximas a você</p>
                        </div>
                    </div>
                </div>

                <!-- Seção Bairros -->
                <div id="secaoBairros" class="secao hidden">
                    <div class="bairros-header" data-aos="fade-up">
                        <h1>Bairros de Piracicaba</h1>
                        <p>Encontre lojas no seu bairro</p>
                    </div>
                    
                    <div class="bairros-search" data-aos="fade-up" data-aos-delay="100">
                        <input type="text" class="search-bairro" placeholder="Buscar bairro..." id="buscarBairro" oninput="filtrarBairros(this.value)">
                    </div>

                    <div class="bairros-lista-completa" id="bairrosLista" data-aos="fade-up" data-aos-delay="200">
                        <!-- Preenchido via JS -->
                    </div>
                </div>

                <!-- Seção Lojas -->
                <div id="secaoLojas" class="secao hidden">
                    <div class="lojas-header" data-aos="fade-up">
                        <h1>Lojas em <span id="bairroSelecionado">Piracicaba</span></h1>
                        <div class="lojas-filtros">
                            <select class="filter-select" id="filtroCategoria" onchange="filtrarLojas()">
                                <option value="">Todas as categorias</option>
                                <option value="Roupas">Roupas</option>
                                <option value="Calçados">Calçados</option>
                                <option value="Acessórios">Acessórios</option>
                                <option value="Moda Feminina">Moda Feminina</option>
                                <option value="Moda Masculina">Moda Masculina</option>
                                <option value="Infantil">Infantil</option>
                                <option value="Plus Size">Plus Size</option>
                                <option value="Streetwear">Streetwear</option>
                            </select>
                            <select class="filter-select" id="filtroPreco" onchange="filtrarLojas()">
                                <option value="">Faixa de preço</option>
                                <option value="0-50">Até R$50</option>
                                <option value="50-100">R$50 - R$100</option>
                                <option value="100-200">R$100 - R$200</option>
                                <option value="200+">Acima de R$200</option>
                            </select>
                            <select class="filter-select" id="filtroAvaliacao" onchange="filtrarLojas()">
                                <option value="">Avaliação mínima</option>
                                <option value="4">4+ estrelas</option>
                                <option value="3">3+ estrelas</option>
                                <option value="2">2+ estrelas</option>
                            </select>
                            <select class="filter-select" id="filtroOrdenar" onchange="ordenarLojas(this.value)">
                                <option value="relevancia">Mais relevantes</option>
                                <option value="avaliacao">Melhor avaliação</option>
                                <option value="preco_menor">Menor preço</option>
                                <option value="preco_maior">Maior preço</option>
                                <option value="nome">Ordem alfabética</option>
                            </select>
                        </div>
                    </div>

                    <div class="lojas-grid" id="lojasContainer" data-aos="fade-up" data-aos-delay="100">
                        <!-- Preenchido via JS -->
                    </div>
                </div>

                <!-- Seção Planos -->
                <div id="secaoPlanos" class="secao hidden">
                    <h1 data-aos="fade-up">Planos para Lojistas</h1>
                    <p data-aos="fade-up" data-aos-delay="100">Escolha o plano ideal para sua loja e comece a vender mais</p>

                    <div class="plans-grid" data-aos="fade-up" data-aos-delay="200">
                        <div class="plan-card">
                            <div class="plan-name">Básico</div>
                            <div class="plan-price">R$49 <span>/mês</span></div>
                            <ul class="plan-features">
                                <li><i class="fas fa-check"></i> Até 50 produtos</li>
                                <li><i class="fas fa-check"></i> Fotos ilimitadas</li>
                                <li><i class="fas fa-check"></i> 1 bairro</li>
                                <li><i class="fas fa-check"></i> Estatísticas básicas</li>
                                <li><i class="fas fa-times"></i> Destaque na busca</li>
                                <li><i class="fas fa-times"></i> Suporte prioritário</li>
                            </ul>
                            <button class="plan-btn" onclick="contratarPlano('basico')">Contratar</button>
                        </div>

                        <div class="plan-card popular">
                            <div class="plan-badge">Mais escolhido</div>
                            <div class="plan-name">Profissional</div>
                            <div class="plan-price">R$89 <span>/mês</span></div>
                            <ul class="plan-features">
                                <li><i class="fas fa-check"></i> Até 200 produtos</li>
                                <li><i class="fas fa-check"></i> Fotos ilimitadas</li>
                                <li><i class="fas fa-check"></i> Até 3 bairros</li>
                                <li><i class="fas fa-check"></i> Estatísticas avançadas</li>
                                <li><i class="fas fa-check"></i> Destaque na busca</li>
                                <li><i class="fas fa-check"></i> Suporte prioritário</li>
                            </ul>
                            <button class="plan-btn" onclick="contratarPlano('profissional')">Contratar</button>
                        </div>

                        <div class="plan-card">
                            <div class="plan-name">Premium</div>
                            <div class="plan-price">R$149 <span>/mês</span></div>
                            <ul class="plan-features">
                                <li><i class="fas fa-check"></i> Produtos ilimitados</li>
                                <li><i class="fas fa-check"></i> Fotos ilimitadas</li>
                                <li><i class="fas fa-check"></i> Todos os bairros</li>
                                <li><i class="fas fa-check"></i> Relatórios completos</li>
                                <li><i class="fas fa-check"></i> Destaque máximo</li>
                                <li><i class="fas fa-check"></i> Suporte 24/7</li>
                            </ul>
                            <button class="plan-btn" onclick="contratarPlano('premium')">Contratar</button>
                        </div>
                    </div>

                    <div class="planos-info" data-aos="fade-up" data-aos-delay="300">
                        <p><i class="fas fa-info-circle"></i> Todos os planos incluem 7 dias de teste grátis</p>
                    </div>
                </div>

                <!-- Seção Cadastro -->
                <div id="secaoCadastro" class="secao hidden">
                    <h1 data-aos="fade-up">Cadastre-se no RIMSO</h1>
                    <p data-aos="fade-up" data-aos-delay="100">Escolha o tipo de cadastro</p>

                    <div class="cadastro-tipos" data-aos="fade-up" data-aos-delay="200">
                        <div class="cadastro-card" onclick="abrirCadastroPessoaFisica()">
                            <i class="fas fa-user"></i>
                            <h3>Pessoa Física</h3>
                            <p>Cadastro gratuito para clientes</p>
                            <ul>
                                <li>Salvar lojas favoritas</li>
                                <li>Avaliar lojas com fotos</li>
                                <li>Receber promoções</li>
                                <li>Comentários e avaliações</li>
                            </ul>
                            <button class="btn btn-secondary">Cadastrar grátis</button>
                        </div>

                        <div class="cadastro-card" onclick="abrirCadastroLoja()">
                            <i class="fas fa-store"></i>
                            <h3>Lojista</h3>
                            <p>Planos a partir de R$49/mês</p>
                            <ul>
                                <li>Anunciar produtos</li>
                                <li>Gerenciar sua loja</li>
                                <li>Estatísticas em tempo real</li>
                                <li>Destaque na busca</li>
                            </ul>
                            <button class="btn btn-primary">Ver planos</button>
                        </div>
                    </div>
                </div>

                <!-- Seção Mapa -->
                <div id="secaoMapa" class="secao hidden">
                    <h1 data-aos="fade-up">Mapa de Piracicaba</h1>
                    <p data-aos="fade-up" data-aos-delay="100">Encontre lojas próximas a você</p>

                    <div class="mapa-controles" data-aos="fade-up" data-aos-delay="200">
                        <button class="btn btn-secondary" onclick="localizarUsuario()">
                            <i class="fas fa-location-dot"></i> Minha localização
                        </button>
                        <input type="text" class="search-bairro" style="width: 300px;" placeholder="Buscar endereço..." id="enderecoBusca">
                        <button class="btn btn-primary" onclick="buscarEndereco()">Buscar</button>
                    </div>

                    <div class="map-container" data-aos="fade-up" data-aos-delay="300">
                        <div id="map"></div>
                    </div>

                    <div class="lojas-proximas" data-aos="fade-up" data-aos-delay="400">
                        <h3>Lojas próximas</h3>
                        <div id="lojasProximas" class="lojas-grid-mini"></div>
                    </div>
                </div>

                <!-- Seção Sobre -->
                <div id="secaoSobre" class="secao hidden">
                    <h1 data-aos="fade-up">Sobre o RIMSO Piracicaba</h1>
                    
                    <div class="sobre-content" data-aos="fade-up" data-aos-delay="100">
                        <div class="sobre-card">
                            <i class="fas fa-bullseye"></i>
                            <h3>Nosso Objetivo</h3>
                            <p>Conectar moradores de Piracicaba às lojas locais, fortalecendo o comércio de bairro e facilitando a descoberta de novos estabelecimentos.</p>
                        </div>

                        <div class="sobre-card">
                            <i class="fas fa-hand-holding-heart"></i>
                            <h3>Para Clientes</h3>
                            <p>Cadastro gratuito para encontrar lojas, favoritar, avaliar com fotos e descobrir promoções perto de você.</p>
                        </div>

                        <div class="sobre-card">
                            <i class="fas fa-chart-line"></i>
                            <h3>Para Lojistas</h3>
                            <p>Aumente sua visibilidade com planos acessíveis e alcance clientes no seu bairro com estatísticas detalhadas.</p>
                        </div>
                    </div>

                    <div class="estatisticas-cidade" data-aos="fade-up" data-aos-delay="200">
                        <h2>Piracicaba em números</h2>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value">150+</div>
                                <div class="stat-label">Bairros</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">1.200+</div>
                                <div class="stat-label">Lojas de roupas</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">410k</div>
                                <div class="stat-label">Habitantes</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Login -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Entrar no RIMSO</div>
                <div class="modal-close" onclick="fecharModal('loginModal')">×</div>
            </div>
            <div class="modal-body">
                <div class="modal-opcoes">
                    <button class="btn btn-primary" onclick="loginGoogle()">
                        <i class="fab fa-google"></i> Continuar com Google
                    </button>
                    <button class="btn btn-secondary" onclick="loginEmail()">
                        <i class="fas fa-envelope"></i> Continuar com Email
                    </button>
                </div>
                <div class="modal-divider">ou</div>
                <p class="modal-cadastro">
                    Novo por aqui? <a href="#" onclick="abrirCadastroPessoaFisica()">Cadastre-se grátis</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Modal Cadastro Pessoa Física -->
    <div class="modal" id="cadastroPFModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Cadastro - Cliente</div>
                <div class="modal-close" onclick="fecharModal('cadastroPFModal')">×</div>
            </div>
            <div class="modal-body">
                <form id="formCadastroPF" onsubmit="salvarCadastroPF(event)">
                    <div class="form-group">
                        <label>Nome completo</label>
                        <input type="text" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Telefone</label>
                        <input type="tel" class="form-input" placeholder="(19) 99999-9999">
                    </div>
                    <div class="form-group">
                        <label>Bairro onde mora</label>
                        <select class="form-select" id="bairroCliente" required>
                            <option value="">Selecione</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Senha</label>
                        <input type="password" class="form-input" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Cadastrar grátis</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Cadastro Loja -->
    <div class="modal" id="cadastroLojaModal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <div class="modal-title">Cadastro - Lojista</div>
                <div class="modal-close" onclick="fecharModal('cadastroLojaModal')">×</div>
            </div>
            <div class="modal-body">
                <form id="formCadastroLoja" onsubmit="salvarCadastroLoja(event)">
                    <div class="form-group">
                        <label>Nome da loja</label>
                        <input type="text" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Proprietário</label>
                        <input type="text" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Telefone / WhatsApp</label>
                        <input type="tel" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Endereço da loja</label>
                        <input type="text" class="form-input" placeholder="Rua, número" required>
                    </div>
                    <div class="form-group">
                        <label>Bairro</label>
                        <select class="form-select" id="bairroLoja" required>
                            <option value="">Selecione o bairro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Categoria principal</label>
                        <select class="form-select" required>
                            <option value="">Selecione</option>
                            <option value="Roupas">Roupas</option>
                            <option value="Calçados">Calçados</option>
                            <option value="Acessórios">Acessórios</option>
                            <option value="Moda Feminina">Moda Feminina</option>
                            <option value="Moda Masculina">Moda Masculina</option>
                            <option value="Infantil">Infantil</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Plano desejado</label>
                        <select class="form-select" id="planoLoja" required>
                            <option value="basico">Básico - R$49/mês</option>
                            <option value="profissional">Profissional - R$89/mês</option>
                            <option value="premium">Premium - R$149/mês</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Solicitar cadastro</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal da Loja Detalhada -->
    <div class="modal" id="lojaDetalhesModal">
        <div class="modal-content" style="max-width: 1000px;">
            <div class="modal-header">
                <div class="modal-title" id="modalLojaNome">Detalhes da Loja</div>
                <div class="modal-close" onclick="fecharModal('lojaDetalhesModal')">×</div>
            </div>
            <div class="modal-body" id="lojaDetalhesContent">
                <!-- Preenchido via JS -->
            </div>
        </div>
    </div>

    <!-- Modal de Avaliação -->
    <div class="modal" id="avaliacaoModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Avaliar Loja</div>
                <div class="modal-close" onclick="fecharModal('avaliacaoModal')">×</div>
            </div>
            <div class="modal-body">
                <form onsubmit="enviarAvaliacao(event)">
                    <div class="form-group">
                        <label>Sua avaliação</label>
                        <div class="rating-stars" id="novaAvaliacaoEstrelas" style="font-size: 24px; color: var(--gold);">
                            <i class="far fa-star" onclick="setAvaliacao(1)"></i>
                            <i class="far fa-star" onclick="setAvaliacao(2)"></i>
                            <i class="far fa-star" onclick="setAvaliacao(3)"></i>
                            <i class="far fa-star" onclick="setAvaliacao(4)"></i>
                            <i class="far fa-star" onclick="setAvaliacao(5)"></i>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Seu comentário</label>
                        <textarea class="form-textarea" placeholder="Conte sua experiência..." rows="4"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Fotos (opcional)</label>
                        <input type="file" class="form-input" accept="image/*" multiple>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Enviar avaliação</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <script>
        // ==================== INICIALIZAÇÃO ====================
        AOS.init({
            duration: 1000,
            once: true,
            offset: 100
        });

        // Dados de Piracicaba
        const dadosPiracicaba = {
            bairros: [
                { nome: 'Centro', lojas: 45, destaque: true },
                { nome: 'Alto', lojas: 38, destaque: true },
                { nome: 'Pauliceia', lojas: 32, destaque: true },
                { nome: 'Cidade Alta', lojas: 28 },
                { nome: 'Cidade Jardim', lojas: 25 },
                { nome: 'Clube de Campo', lojas: 22 },
                { nome: 'Jaraguá', lojas: 20 },
                { nome: 'Vila Rezende', lojas: 18 },
                { nome: 'Santa Terezinha', lojas: 16 },
                { nome: 'Piracicamirim', lojas: 15 },
                { nome: 'Água Branca', lojas: 14 },
                { nome: 'Bairro Alto', lojas: 13 },
                { nome: 'Campestre', lojas: 12 },
                { nome: 'Castelinho', lojas: 11 },
                { nome: 'Cecap', lojas: 10 },
                { nome: 'Chácara Nazareth', lojas: 9 },
                { nome: 'Cidade Alta', lojas: 8 },
                { nome: 'Cidade Jardim', lojas: 7 },
                { nome: 'Clube de Campo', lojas: 6 },
                { nome: 'Jaraguá', lojas: 5 }
            ],
            lojas: [
                {
                    id: 1,
                    nome: 'Moda Center Piracicaba',
                    bairro: 'Centro',
                    endereco: 'Rua do Rosário, 500',
                    categoria: 'Roupas',
                    subcategorias: ['Moda Feminina', 'Moda Masculina'],
                    preco_medio: 89.90,
                    avaliacao: 4.8,
                    total_avaliacoes: 156,
                    telefone: '(19) 3434-5678',
                    whatsapp: '(19) 99999-1234',
                    horario: '9h às 19h',
                    fotos: ['👗', '👔', '👖'],
                    destaque: true,
                    latitude: -22.7243,
                    longitude: -47.6475
                },
                {
                    id: 2,
                    nome: 'StreetWear Piracicaba',
                    bairro: 'Alto',
                    endereco: 'Av. Independência, 1200',
                    categoria: 'Streetwear',
                    subcategorias: ['Masculino', 'Skatewear'],
                    preco_medio: 129.90,
                    avaliacao: 4.6,
                    total_avaliacoes: 89,
                    telefone: '(19) 3433-9012',
                    whatsapp: '(19) 98888-5678',
                    horario: '10h às 20h',
                    fotos: ['👕', '🧥', '🧢'],
                    latitude: -22.7143,
                    longitude: -47.6375
                },
                {
                    id: 3,
                    nome: 'Kids Fashion',
                    bairro: 'Pauliceia',
                    endereco: 'Rua Voluntários de Piracicaba, 300',
                    categoria: 'Infantil',
                    subcategorias: ['Bebê', 'Infantil'],
                    preco_medio: 59.90,
                    avaliacao: 4.9,
                    total_avaliacoes: 234,
                    telefone: '(19) 3432-3456',
                    whatsapp: '(19) 97777-9012',
                    horario: '9h às 18h',
                    fotos: ['🧸', '👚', '👖'],
                    latitude: -22.7343,
                    longitude: -47.6575
                },
                {
                    id: 4,
                    nome: 'Plus Size Piracicaba',
                    bairro: 'Cidade Alta',
                    endereco: 'Rua Governador Pedro de Toledo, 150',
                    categoria: 'Plus Size',
                    subcategorias: ['Moda Feminina', 'Moda Masculina'],
                    preco_medio: 149.90,
                    avaliacao: 4.7,
                    total_avaliacoes: 67,
                    telefone: '(19) 3435-7890',
                    whatsapp: '(19) 96666-3456',
                    horario: '9h às 19h',
                    fotos: ['👗', '👔', '👖'],
                    latitude: -22.7043,
                    longitude: -47.6275
                },
                {
                    id: 5,
                    nome: 'Calçados City',
                    bairro: 'Centro',
                    endereco: 'Rua do Mercado, 250',
                    categoria: 'Calçados',
                    subcategorias: ['Feminino', 'Masculino', 'Infantil'],
                    preco_medio: 159.90,
                    avaliacao: 4.5,
                    total_avaliacoes: 112,
                    telefone: '(19) 3436-1234',
                    whatsapp: '(19) 95555-6789',
                    horario: '9h às 18h',
                    fotos: ['👟', '👠', '👞'],
                    latitude: -22.7248,
                    longitude: -47.6480
                },
                {
                    id: 6,
                    nome: 'Acessórios & Cia',
                    bairro: 'Alto',
                    endereco: 'Av. Armando de Salles Oliveira, 800',
                    categoria: 'Acessórios',
                    subcategorias: ['Bolsas', 'Cintos', 'Bijuterias'],
                    preco_medio: 49.90,
                    avaliacao: 4.4,
                    total_avaliacoes: 45,
                    telefone: '(19) 3437-5678',
                    whatsapp: '(19) 94444-9012',
                    horario: '10h às 19h',
                    fotos: ['👜', '👝', '💍'],
                    latitude: -22.7148,
                    longitude: -47.6380
                }
            ],
            avaliacoes: [
                {
                    id: 1,
                    loja_id: 1,
                    usuario: 'Ana Silva',
                    avatar: 'AS',
                    nota: 5,
                    comentario: 'Ótima loja! Variedade incrível e preços justos. Atendimento excelente!',
                    data: '2024-02-23',
                    fotos: ['👗', '👔']
                },
                {
                    id: 2,
                    loja_id: 1,
                    usuario: 'João Santos',
                    avatar: 'JS',
                    nota: 4,
                    comentario: 'Boa loja, mas poderia ter mais opções de tamanhos.',
                    data: '2024-02-22',
                    fotos: []
                },
                {
                    id: 3,
                    loja_id: 2,
                    usuario: 'Pedro Costa',
                    avatar: 'PC',
                    nota: 5,
                    comentario: 'Melhor loja de streetwear da cidade! As peças são incríveis.',
                    data: '2024-02-21',
                    fotos: ['👕', '🧥']
                }
            ]
        };

        // Estado da aplicação
        let estado = {
            usuario: null,
            tipoUsuario: null,
            bairroAtual: null,
            lojaAtual: null,
            tema: 'light',
            notificacoes: 3,
            avaliacaoAtual: 0,
            map: null,
            markers: []
        };

        // ==================== INICIALIZAÇÃO ====================
        window.onload = function() {
            carregarBairros();
            carregarBairrosSidebar();
            carregarBairrosDestaque();
            carregarLojas();
            carregarSelectsBairros();
            initCharts();
            initMap();
            verificarTemaSalvo();
            atualizarNotificacoes();
        };

        function carregarBairros() {
            const container = document.getElementById('bairrosLista');
            if (!container) return;
            
            container.innerHTML = dadosPiracicaba.bairros.map(bairro => `
                <div class="bairro-lista-item" onclick="selecionarBairro('${bairro.nome}')">
                    <span class="bairro-nome">${bairro.nome}</span>
                    <span class="bairro-contagem">${bairro.lojas} lojas</span>
                </div>
            `).join('');
        }

        function carregarBairrosSidebar() {
            const container = document.getElementById('bairrosSidebar');
            if (!container) return;
            
            container.innerHTML = '<h4 style="color: white; margin-bottom: 15px; padding: 0 10px;">Bairros de Piracicaba</h4>' +
                dadosPiracicaba.bairros.slice(0, 10).map(bairro => `
                    <div class="bairro-sidebar-item" onclick="selecionarBairro('${bairro.nome}')">
                        ${bairro.nome}
                    </div>
                `).join('');
        }

        function carregarBairrosDestaque() {
            const container = document.getElementById('bairrosDestaque');
            if (!container) return;
            
            const destaques = dadosPiracicaba.bairros.filter(b => b.destaque).slice(0, 6);
            container.innerHTML = destaques.map(bairro => `
                <div class="bairro-destaque-card" onclick="selecionarBairro('${bairro.nome}')">
                    <h3>${bairro.nome}</h3>
                    <p>${bairro.lojas} lojas</p>
                    <span class="badge">em destaque</span>
                </div>
            `).join('');
        }

        function carregarLojas() {
            const container = document.getElementById('lojasContainer');
            if (!container) return;
            
            container.innerHTML = dadosPiracicaba.lojas.map(loja => `
                <div class="loja-card" onclick="abrirLojaDetalhes(${loja.id})">
                    <div class="loja-cover">
                        ${loja.fotos[0]}
                    </div>
                    <div class="loja-info">
                        <div class="loja-nome">${loja.nome}</div>
                        <div class="loja-bairro">
                            <i class="fas fa-map-marker-alt"></i> ${loja.bairro}
                        </div>
                        <div class="loja-categoria">
                            ${loja.subcategorias.map(cat => `<span class="categoria-tag">${cat}</span>`).join('')}
                        </div>
                        <div class="loja-footer">
                            <div class="loja-avaliacao">
                                <i class="fas fa-star"></i> ${loja.avaliacao} (${loja.total_avaliacoes})
                            </div>
                            <button class="loja-contato" onclick="event.stopPropagation(); contatoLoja('${loja.whatsapp}')">
                                <i class="fab fa-whatsapp"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function carregarSelectsBairros() {
            const options = dadosPiracicaba.bairros.map(b => 
                `<option value="${b.nome}">${b.nome}</option>`
            ).join('');
            
            const bairroCliente = document.getElementById('bairroCliente');
            const bairroLoja = document.getElementById('bairroLoja');
            
            if (bairroCliente) bairroCliente.innerHTML = '<option value="">Selecione</option>' + options;
            if (bairroLoja) bairroLoja.innerHTML = '<option value="">Selecione o bairro</option>' + options;
        }

        function initCharts() {
            // Gráfico de Lojas por Bairro
            const ctxLojas = document.getElementById('lojasBairroChart')?.getContext('2d');
            if (ctxLojas) {
                new Chart(ctxLojas, {
                    type: 'bar',
                    data: {
                        labels: dadosPiracicaba.bairros.slice(0, 8).map(b => b.nome),
                        datasets: [{
                            label: 'Número de Lojas',
                            data: dadosPiracicaba.bairros.slice(0, 8).map(b => b.lojas),
                            backgroundColor: '#DD0000',
                            borderRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            y: { beginAtZero: true }
                        }
                    }
                });
            }

            // Gráfico de Categorias
            const ctxCategorias = document.getElementById('categoriasChart')?.getContext('2d');
            if (ctxCategorias) {
                new Chart(ctxCategorias, {
                    type: 'doughnut',
                    data: {
                        labels: ['Roupas', 'Calçados', 'Acessórios', 'Streetwear', 'Infantil', 'Plus Size'],
                        datasets: [{
                            data: [45, 23, 18, 12, 8, 6],
                            backgroundColor: ['#DD0000', '#FFCE00', '#10b981', '#f59e0b', '#6B7280', '#AA0000'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom' }
                        },
                        cutout: '65%'
                    }
                });
            }
        }

        function initMap() {
            const mapContainer = document.getElementById('map');
            if (!mapContainer) return;

            // Coordenadas de Piracicaba
            const piracicaba = { lat: -22.7243, lng: -47.6475 };

            estado.map = new google.maps.Map(mapContainer, {
                center: piracicaba,
                zoom: 13,
                styles: [
                    {
                        featureType: 'poi.business',
                        elementType: 'labels',
                        stylers: [{ visibility: 'on' }]
                    }
                ]
            });

            // Adicionar marcadores das lojas
            dadosPiracicaba.lojas.forEach(loja => {
                const marker = new google.maps.Marker({
                    position: { lat: loja.latitude, lng: loja.longitude },
                    map: estado.map,
                    title: loja.nome,
                    icon: {
                        url: 'https://maps.google.com/mapfiles/ms/icons/red-dot.png'
                    }
                });

                marker.addListener('click', () => {
                    abrirLojaDetalhes(loja.id);
                });

                estado.markers.push(marker);
            });
        }

        // ==================== NAVEGAÇÃO ====================
        function mudarSecao(secao) {
            document.querySelectorAll('.menu-item').forEach(item => item.classList.remove('active'));
            event.currentTarget.classList.add('active');

            document.querySelectorAll('.secao').forEach(s => s.classList.remove('ativa'));
            document.getElementById(`secao${secao.charAt(0).toUpperCase() + secao.slice(1)}`).classList.add('ativa');

            const titulos = {
                'inicio': 'Início',
                'bairros': 'Bairros',
                'lojas': 'Lojas',
                'planos': 'Planos',
                'cadastro': 'Cadastro',
                'mapa': 'Mapa',
                'sobre': 'Sobre'
            };

            document.getElementById('pageTitle').innerHTML = 
                `RIMSO Piracicaba <span>${titulos[secao]}</span>`;

            if (secao === 'mapa' && estado.map) {
                google.maps.event.trigger(estado.map, 'resize');
                estado.map.setCenter({ lat: -22.7243, lng: -47.6475 });
            }

            window.scrollTo(0, 0);
        }

        function selecionarBairro(bairro) {
            estado.bairroAtual = bairro;
            document.getElementById('bairroSelecionado').textContent = bairro;
            
            // Filtrar lojas pelo bairro
            const lojasFiltradas = dadosPiracicaba.lojas.filter(l => l.bairro === bairro);
            const container = document.getElementById('lojasContainer');
            
            container.innerHTML = lojasFiltradas.map(loja => `
                <div class="loja-card" onclick="abrirLojaDetalhes(${loja.id})">
                    <div class="loja-cover">${loja.fotos[0]}</div>
                    <div class="loja-info">
                        <div class="loja-nome">${loja.nome}</div>
                        <div class="loja-bairro"><i class="fas fa-map-marker-alt"></i> ${loja.bairro}</div>
                        <div class="loja-categoria">
                            ${loja.subcategorias.map(cat => `<span class="categoria-tag">${cat}</span>`).join('')}
                        </div>
                        <div class="loja-footer">
                            <div class="loja-avaliacao">
                                <i class="fas fa-star"></i> ${loja.avaliacao} (${loja.total_avaliacoes})
                            </div>
                            <button class="loja-contato" onclick="event.stopPropagation(); contatoLoja('${loja.whatsapp}')">
                                <i class="fab fa-whatsapp"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');

            // Atualizar sidebar
            document.querySelectorAll('.bairro-sidebar-item').forEach(item => {
                item.classList.toggle('active', item.textContent.trim() === bairro);
            });

            mudarSecao('lojas');
            mostrarToast(`Lojas no bairro ${bairro}`, 'success');
        }

        // ==================== SISTEMA DE BUSCA ====================
        function buscarTermo(termo) {
            const resultsDiv = document.getElementById('searchResults');
            
            if (termo.length < 2) {
                resultsDiv.classList.remove('show');
                return;
            }

            const resultados = [
                ...dadosPiracicaba.lojas.filter(l => 
                    l.nome.toLowerCase().includes(termo.toLowerCase())
                ).map(l => ({ tipo: 'loja', nome: l.nome, bairro: l.bairro })),
                ...dadosPiracicaba.bairros.filter(b => 
                    b.nome.toLowerCase().includes(termo.toLowerCase())
                ).map(b => ({ tipo: 'bairro', nome: b.nome, lojas: b.lojas }))
            ].slice(0, 5);

            if (resultados.length === 0) {
                resultsDiv.classList.remove('show');
                return;
            }

            resultsDiv.innerHTML = resultados.map(r => {
                if (r.tipo === 'loja') {
                    return `
                        <div class="search-result-item" onclick="abrirLojaPorNome('${r.nome}')">
                            <i class="fas fa-store" style="color: var(--red);"></i>
                            <strong>${r.nome}</strong><br>
                            <small>${r.bairro}</small>
                        </div>
                    `;
                } else {
                    return `
                        <div class="search-result-item" onclick="selecionarBairro('${r.nome}')">
                            <i class="fas fa-map-marker-alt" style="color: var(--gold);"></i>
                            <strong>${r.nome}</strong><br>
                            <small>${r.lojas} lojas</small>
                        </div>
                    `;
                }
            }).join('');

            resultsDiv.classList.add('show');
        }

        function abrirLojaPorNome(nome) {
            const loja = dadosPiracicaba.lojas.find(l => l.nome === nome);
            if (loja) {
                abrirLojaDetalhes(loja.id);
                document.getElementById('searchResults').classList.remove('show');
            }
        }

        // ==================== FILTROS ====================
        function filtrarLojas() {
            const categoria = document.getElementById('filtroCategoria')?.value;
            const preco = document.getElementById('filtroPreco')?.value;
            const avaliacao = document.getElementById('filtroAvaliacao')?.value;

            let lojasFiltradas = [...dadosPiracicaba.lojas];

            if (estado.bairroAtual) {
                lojasFiltradas = lojasFiltradas.filter(l => l.bairro === estado.bairroAtual);
            }

            if (categoria) {
                lojasFiltradas = lojasFiltradas.filter(l => 
                    l.categoria === categoria || l.subcategorias.includes(categoria)
                );
            }

            if (avaliacao) {
                lojasFiltradas = lojasFiltradas.filter(l => l.avaliacao >= parseInt(avaliacao));
            }

            if (preco) {
                const [min, max] = preco.split('-').map(Number);
                if (max) {
                    lojasFiltradas = lojasFiltradas.filter(l => l.preco_medio >= min && l.preco_medio <= max);
                } else {
                    lojasFiltradas = lojasFiltradas.filter(l => l.preco_medio >= min);
                }
            }

            const container = document.getElementById('lojasContainer');
            container.innerHTML = lojasFiltradas.map(loja => `
                <div class="loja-card" onclick="abrirLojaDetalhes(${loja.id})">
                    <div class="loja-cover">${loja.fotos[0]}</div>
                    <div class="loja-info">
                        <div class="loja-nome">${loja.nome}</div>
                        <div class="loja-bairro"><i class="fas fa-map-marker-alt"></i> ${loja.bairro}</div>
                        <div class="loja-categoria">
                            ${loja.subcategorias.map(cat => `<span class="categoria-tag">${cat}</span>`).join('')}
                        </div>
                        <div class="loja-footer">
                            <div class="loja-avaliacao">
                                <i class="fas fa-star"></i> ${loja.avaliacao} (${loja.total_avaliacoes})
                            </div>
                            <span class="categoria-tag">R$ ${loja.preco_medio.toFixed(2)}</span>
                        </div>
                    </div>
                </div>
            `).join('');

            mostrarToast(`${lojasFiltradas.length} lojas encontradas`, 'success');
        }

        function ordenarLojas(ordenarPor) {
            let lojas = [...dadosPiracicaba.lojas];
            
            if (estado.bairroAtual) {
                lojas = lojas.filter(l => l.bairro === estado.bairroAtual);
            }

            switch(ordenarPor) {
                case 'avaliacao':
                    lojas.sort((a, b) => b.avaliacao - a.avaliacao);
                    break;
                case 'preco_menor':
                    lojas.sort((a, b) => a.preco_medio - b.preco_medio);
                    break;
                case 'preco_maior':
                    lojas.sort((a, b) => b.preco_medio - a.preco_medio);
                    break;
                case 'nome':
                    lojas.sort((a, b) => a.nome.localeCompare(b.nome));
                    break;
                default:
                    // relevância (mantém ordem original)
                    break;
            }

            const container = document.getElementById('lojasContainer');
            container.innerHTML = lojas.map(loja => `
                <div class="loja-card" onclick="abrirLojaDetalhes(${loja.id})">
                    <div class="loja-cover">${loja.fotos[0]}</div>
                    <div class="loja-info">
                        <div class="loja-nome">${loja.nome}</div>
                        <div class="loja-bairro"><i class="fas fa-map-marker-alt"></i> ${loja.bairro}</div>
                        <div class="loja-categoria">
                            ${loja.subcategorias.map(cat => `<span class="categoria-tag">${cat}</span>`).join('')}
                        </div>
                        <div class="loja-footer">
                            <div class="loja-avaliacao">
                                <i class="fas fa-star"></i> ${loja.avaliacao} (${loja.total_avaliacoes})
                            </div>
                            <span class="categoria-tag">R$ ${loja.preco_medio.toFixed(2)}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filtrarBairros(termo) {
            const bairrosFiltrados = dadosPiracicaba.bairros.filter(b => 
                b.nome.toLowerCase().includes(termo.toLowerCase())
            );

            const container = document.getElementById('bairrosLista');
            container.innerHTML = bairrosFiltrados.map(bairro => `
                <div class="bairro-lista-item" onclick="selecionarBairro('${bairro.nome}')">
                    <span class="bairro-nome">${bairro.nome}</span>
                    <span class="bairro-contagem">${bairro.lojas} lojas</span>
                </div>
            `).join('');
        }

        // ==================== LOJA DETALHADA ====================
        function abrirLojaDetalhes(id) {
            const loja = dadosPiracicaba.lojas.find(l => l.id === id);
            const avaliacoes = dadosPiracicaba.avaliacoes.filter(a => a.loja_id === id);
            
            estado.lojaAtual = loja;

            const content = document.getElementById('lojaDetalhesContent');
            content.innerHTML = `
                <div class="loja-detalhes">
                    <div class="loja-detalhes-header">
                        <div class="loja-detalhes-cover" style="background: var(--gradient); display: flex; align-items: center; justify-content: center; font-size: 80px;">
                            ${loja.fotos[0]}
                        </div>
                        <div class="loja-detalhes-info">
                            <div class="loja-detalhes-nome">${loja.nome}</div>
                            <div class="loja-detalhes-meta">
                                <span><i class="fas fa-map-marker-alt"></i> ${loja.bairro}</span>
                                <span><i class="fas fa-star" style="color: var(--gold);"></i> ${loja.avaliacao} (${loja.total_avaliacoes} avaliações)</span>
                            </div>
                        </div>
                    </div>

                    <div class="loja-detalhes-content">
                        <div>
                            <div class="loja-detalhes-section">
                                <h2><i class="fas fa-info-circle"></i> Informações</h2>
                                <div class="info-grid">
                                    <div class="info-item">
                                        <i class="fas fa-map-pin"></i>
                                        <span><strong>Endereço:</strong> ${loja.endereco}</span>
                                    </div>
                                    <div class="info-item">
                                        <i class="fas fa-clock"></i>
                                        <span><strong>Horário:</strong> ${loja.horario}</span>
                                    </div>
                                    <div class="info-item">
                                        <i class="fas fa-phone"></i>
                                        <span><strong>Telefone:</strong> ${loja.telefone}</span>
                                    </div>
                                    <div class="info-item">
                                        <i class="fab fa-whatsapp" style="color: var(--success);"></i>
                                        <span><strong>WhatsApp:</strong> ${loja.whatsapp}</span>
                                    </div>
                                </div>
                            </div>

                            <div class="loja-detalhes-section">
                                <h2><i class="fas fa-tags"></i> Categorias</h2>
                                <div class="categorias-list">
                                    <span class="categoria-item">${loja.categoria}</span>
                                    ${loja.subcategorias.map(cat => `<span class="categoria-item">${cat}</span>`).join('')}
                                </div>
                            </div>

                            <div class="loja-detalhes-section">
                                <h2><i class="fas fa-camera"></i> Fotos da Loja</h2>
                                <div class="galeria-grid">
                                    ${loja.fotos.map(foto => `
                                        <div class="galeria-item">${foto}</div>
                                    `).join('')}
                                </div>
                            </div>

                            <div class="loja-detalhes-section">
                                <h2><i class="fas fa-star"></i> Avaliações</h2>
                                
                                <div class="avaliacoes-resumo">
                                    <div class="avaliacao-media">
                                        <div class="avaliacao-numero">${loja.avaliacao}</div>
                                        <div class="avaliacao-estrelas">
                                            ${Array(5).fill(0).map((_, i) => 
                                                i < Math.floor(loja.avaliacao) ? '★' : 
                                                (i === Math.floor(loja.avaliacao) && loja.avaliacao % 1 > 0) ? '½' : '☆'
                                            ).join('')}
                                        </div>
                                        <div class="avaliacao-total">${loja.total_avaliacoes} avaliações</div>
                                    </div>
                                    <div class="avaliacao-grafico-barras">
                                        ${[5,4,3,2,1].map(estrelas => {
                                            const porcentagem = Math.round(avaliacoes.filter(a => a.nota === estrelas).length / avaliacoes.length * 100) || 0;
                                            return `
                                                <div class="barra-container">
                                                    <span class="barra-label">${estrelas} ★</span>
                                                    <div class="barra">
                                                        <div class="barra-preenchimento" style="width: ${porcentagem}%;"></div>
                                                    </div>
                                                    <span>${porcentagem}%</span>
                                                </div>
                                            `;
                                        }).join('')}
                                    </div>
                                </div>

                                ${avaliacoes.map(av => `
                                    <div class="avaliacao-item">
                                        <div class="avaliacao-header">
                                            <div class="avaliacao-usuario">
                                                <div class="avaliacao-avatar">${av.avatar}</div>
                                                <span class="avaliacao-nome">${av.usuario}</span>
                                            </div>
                                            <span class="avaliacao-data">${av.data}</span>
                                        </div>
                                        <div class="avaliacao-nota">
                                            ${Array(av.nota).fill(0).map(() => '★').join('')}
                                            ${Array(5-av.nota).fill(0).map(() => '☆').join('')}
                                        </div>
                                        <div class="avaliacao-comentario">${av.comentario}</div>
                                        ${av.fotos.length > 0 ? `
                                            <div class="avaliacao-fotos">
                                                ${av.fotos.map(foto => `
                                                    <div class="avaliacao-foto">${foto}</div>
                                                `).join('')}
                                            </div>
                                        ` : ''}
                                    </div>
                                `).join('')}

                                <button class="btn-avaliar" onclick="abrirAvaliacao(${loja.id})">
                                    <i class="fas fa-star"></i> Avaliar esta loja
                                </button>
                            </div>
                        </div>

                        <div>
                            <div class="loja-detalhes-section">
                                <h2><i class="fas fa-map-marked-alt"></i> Localização</h2>
                                <div style="height: 200px; background: var(--bg-secondary); border-radius: 16px; margin-bottom: 20px;">
                                    <div id="lojaMap" style="height: 100%; width: 100%; border-radius: 16px;"></div>
                                </div>
                                <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px;" onclick="abrirWhatsapp('${loja.whatsapp}')">
                                    <i class="fab fa-whatsapp"></i> WhatsApp
                                </button>
                                <button class="btn btn-secondary" style="width: 100%;" onclick="ligar('${loja.telefone}')">
                                    <i class="fas fa-phone"></i> Ligar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('modalLojaNome').textContent = loja.nome;
            abrirModal('lojaDetalhesModal');

            // Inicializar mapa da loja
            setTimeout(() => {
                const lojaMap = document.getElementById('lojaMap');
                if (lojaMap) {
                    new google.maps.Map(lojaMap, {
                        center: { lat: loja.latitude, lng: loja.longitude },
                        zoom: 16,
                        mapTypeControl: false,
                        streetViewControl: false
                    });
                }
            }, 300);
        }

        // ==================== SISTEMA DE AVALIAÇÕES ====================
        function abrirAvaliacao(lojaId) {
            estado.lojaAtual = dadosPiracicaba.lojas.find(l => l.id === lojaId);
            estado.avaliacaoAtual = 0;
            
            // Resetar estrelas
            document.querySelectorAll('#novaAvaliacaoEstrelas i').forEach((star, index) => {
                star.className = 'far fa-star';
            });
            
            abrirModal('avaliacaoModal');
        }

        function setAvaliacao(nota) {
            estado.avaliacaoAtual = nota;
            const stars = document.querySelectorAll('#novaAvaliacaoEstrelas i');
            stars.forEach((star, index) => {
                if (index < nota) {
                    star.className = 'fas fa-star';
                } else {
                    star.className = 'far fa-star';
                }
            });
        }

        function enviarAvaliacao(event) {
            event.preventDefault();
            
            if (estado.avaliacaoAtual === 0) {
                mostrarToast('Selecione uma nota para avaliar', 'error');
                return;
            }

            mostrarToast('Avaliação enviada com sucesso! Obrigado!', 'success');
            fecharModal('avaliacaoModal');
        }

        // ==================== MAPA ====================
        function localizarUsuario() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const pos = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        
                        if (estado.map) {
                            estado.map.setCenter(pos);
                            estado.map.setZoom(14);
                            
                            new google.maps.Marker({
                                position: pos,
                                map: estado.map,
                                title: 'Sua localização',
                                icon: {
                                    url: 'https://maps.google.com/mapfiles/ms/icons/blue-dot.png'
                                }
                            });
                        }
                        
                        mostrarToast('Localização encontrada!', 'success');
                    },
                    () => {
                        mostrarToast('Não foi possível encontrar sua localização', 'error');
                    }
                );
            } else {
                mostrarToast('Seu navegador não suporta geolocalização', 'error');
            }
        }

        function buscarEndereco() {
            const endereco = document.getElementById('enderecoBusca').value;
            if (!endereco) return;

            const geocoder = new google.maps.Geocoder();
            geocoder.geocode({ address: endereco + ', Piracicaba - SP' }, (results, status) => {
                if (status === 'OK' && results[0]) {
                    estado.map.setCenter(results[0].geometry.location);
                    estado.map.setZoom(15);
                    
                    new google.maps.Marker({
                        position: results[0].geometry.location,
                        map: estado.map,
                        title: endereco
                    });
                    
                    mostrarToast('Endereço encontrado!', 'success');
                } else {
                    mostrarToast('Endereço não encontrado', 'error');
                }
            });
        }

        // ==================== SISTEMA DE LOGIN ====================
        function abrirModalLogin() {
            abrirModal('loginModal');
        }

        function loginGoogle() {
            mostrarToast('Login com Google em desenvolvimento', 'success');
            setTimeout(() => {
                estado.usuario = { nome: 'Usuário', tipo: 'cliente' };
                document.getElementById('userDetailsSidebar').innerHTML = '<h4>Bem-vindo(a)</h4><p>Usuário Cliente</p>';
                document.getElementById('userAvatarSidebar').innerHTML = '<i class="fas fa-user"></i>';
                fecharModal('loginModal');
            }, 1000);
        }

        function loginEmail() {
            abrirModalLogin();
        }

        // ==================== CADASTROS ====================
        function abrirCadastroPessoaFisica() {
            fecharModal('loginModal');
            abrirModal('cadastroPFModal');
        }

        function abrirCadastroLoja() {
            fecharModal('loginModal');
            abrirModal('cadastroLojaModal');
        }

        function salvarCadastroPF(event) {
            event.preventDefault();
            mostrarToast('Cadastro realizado com sucesso! Bem-vindo(a)!', 'success');
            fecharModal('cadastroPFModal');
            
            estado.usuario = { nome: 'Cliente', tipo: 'cliente' };
            document.getElementById('userDetailsSidebar').innerHTML = '<h4>Bem-vindo(a)</h4><p>Cliente</p>';
        }

        function salvarCadastroLoja(event) {
            event.preventDefault();
            mostrarToast('Solicitação enviada! Entraremos em contato em até 24h.', 'success');
            fecharModal('cadastroLojaModal');
        }

        // ==================== PLANOS ====================
        function contratarPlano(plano) {
            const precos = {
                'basico': 'R$49,00',
                'profissional': 'R$89,00',
                'premium': 'R$149,00'
            };
            
            mostrarToast(`Plano ${plano} selecionado! Valor: ${precos[plano]}/mês`, 'success');
        }

        // ==================== NOTIFICAÇÕES ====================
        function abrirNotificacoes() {
            mostrarToast('Você tem 3 notificações novas', 'success');
            estado.notificacoes = 0;
            atualizarNotificacoes();
        }

        function atualizarNotificacoes() {
            const badge = document.getElementById('notificationBadge');
            if (badge) {
                badge.textContent = estado.notificacoes;
            }
        }

        // ==================== CONTATO ====================
        function contatoLoja(whatsapp) {
            const numero = whatsapp.replace(/\D/g, '');
            window.open(`https://wa.me/55${numero}`, '_blank');
        }

        function abrirWhatsapp(numero) {
            const numeroLimpo = numero.replace(/\D/g, '');
            window.open(`https://wa.me/55${numeroLimpo}`, '_blank');
        }

        function ligar(numero) {
            const numeroLimpo = numero.replace(/\D/g, '');
            window.location.href = `tel:+55${numeroLimpo}`;
        }

        // ==================== TEMA ====================
        function toggleTema() {
            const dashboard = document.getElementById('dashboard');
            const themeToggle = document.getElementById('themeToggle');
            
            if (dashboard.getAttribute('data-theme') === 'dark') {
                dashboard.removeAttribute('data-theme');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                localStorage.setItem('tema', 'light');
            } else {
                dashboard.setAttribute('data-theme', 'dark');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                localStorage.setItem('tema', 'dark');
            }
        }

        function verificarTemaSalvo() {
            const tema = localStorage.getItem('tema');
            if (tema === 'dark') {
                document.getElementById('dashboard').setAttribute('data-theme', 'dark');
                document.getElementById('themeToggle').innerHTML = '<i class="fas fa-sun"></i>';
            }
        }

        // ==================== MODAL ====================
        function abrirModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function fecharModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // ==================== TOAST ====================
        function mostrarToast(mensagem, tipo = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = mensagem;
            toast.className = `toast ${tipo} show`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Fechar resultados da busca ao clicar fora
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.search-box') && !e.target.closest('.search-results')) {
                document.getElementById('searchResults')?.classList.remove('show');
            }
        });

        // Busca com Enter
        document.getElementById('searchInput')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && this.value.length > 2) {
                buscarTermo(this.value);
            }
        });
    </script>
</body>
</html>
